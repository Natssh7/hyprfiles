/*! For license information please see script.js.LICENSE.txt */
(()=>{var e,t,r={6717:(e,t)=>{"use strict";t.byteLength=function(e){var t=o(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,a=o(e),s=a[0],c=a[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,c)),l=0,f=c>0?s-4:s;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],s=16383,o=0,u=n-i;o<u;o+=s)a.push(c(e,o,o+s>u?u:o+s));return 1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],n[a.charCodeAt(s)]=s;function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,a,s=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},5851:(e,t,r)=>{"use strict";const n=r(6717),i=r(9350),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function o(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|h(e,t);let n=o(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return g(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return g(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return g(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?o(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),o(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),r=o(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function g(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let a,s=1,o=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,o/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(a=r;a<o;a++)if(u(e,a)===u(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===c)return n*s}else-1!==n&&(a-=a-n),n=-1}else for(r+c>o&&(r=o-c),a=r;a>=0;a--){let r=!0;for(let n=0;n<c;n++)if(u(e,a+n)!==u(t,n)){r=!1;break}if(r)return a}return-1}function v(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const a=t.length;let s;for(n>a/2&&(n=a/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(Y(n))return s;e[r+s]=n}return s}function x(e,t,r,n){return G(H(t,e.length-r),e,r,n)}function _(e,t,r,n){return G(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function A(e,t,r,n){return G(Z(t),e,r,n)}function E(e,t,r,n){return G(function(e,t){let r,n,i;const a=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function k(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let a=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,o,c;switch(s){case 1:t<128&&(a=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(a=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&o)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},c.allocUnsafe=function(e){return f(e)},c.allocUnsafeSlow=function(e){return f(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(K(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let a=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const o=Math.min(a,s),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<o;++e)if(u[e]!==l[e]){a=u[e],s=l[e];break}return a<s?-1:s<a?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return x(this,e,t,r);case"ascii":case"latin1":case"binary":return _(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function I(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function j(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=X[e[n]];return i}function M(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function O(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,r,n,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,i){W(t,n,i,e,r,7);let a=Number(t&BigInt(4294967295));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function L(e,t,r,n,i){W(t,n,i,e,r,7);let a=Number(t&BigInt(4294967295));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function U(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,a){return t=+t,r>>>=0,a||U(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,a){return t=+t,r>>>=0,a||U(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Q((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Q((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=t,i=1,a=this[e+--n];for(;n>0&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Q((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Q((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||$(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||P(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||P(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Q((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Q((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,e,t,r,n-1,-n)}let i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);P(this,e,t,r,n-1,-n)}let i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Q((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Q((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const a=c.isBuffer(e)?e:c.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};const D={};function z(e,t,r){D[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function W(e,t,r,n,i,a){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=a>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(a+1)}${n}`:`>= -(2${n} ** ${8*(a+1)-1}${n}) and < 2 ** ${8*(a+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new D.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||$(t,e.length-(r+1))}(n,i,a)}function q(e,t){if("number"!=typeof e)throw new D.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,r){if(Math.floor(e)!==e)throw q(e,r),new D.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new D.ERR_BUFFER_OUT_OF_BOUNDS;throw new D.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function H(e,t){let r;t=t||1/0;const n=e.length;let i=null;const a=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function Z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},1075:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new i(n,a||e,s),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,s=new Array(a);i<a;i++)s[i]=n[i].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,a,s){var o=r?r+e:e;if(!this._events[o])return!1;var c,u,l=this._events[o],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,a),!0;case 6:return l.fn.call(l.context,t,n,i,a,s),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,g=l.length;for(u=0;u<g;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(d=1,c=new Array(f-1);d<f;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},o.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||s(this,a);else{for(var c=0,u=[],l=o.length;c<l;c++)(o[c].fn!==t||i&&!o[c].once||n&&o[c].context!==n)&&u.push(o[c]);u.length?this._events[a]=1===u.length?u[0]:u:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},1590:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}h(e,t,a,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&h(e,"error",t,{once:!0})}(e,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,a,s,u;if(o(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function h(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){n.once&&e.removeEventListener(t,i),r(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var u=c.length,l=p(c,u);for(r=0;r<u;++r)n(l[r],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,a,s;if(o(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return d(this,e,!0)},a.prototype.rawListeners=function(e){return d(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},9350:(e,t)=>{t.read=function(e,t,r,n,i){var a,s,o=8*i-n-1,c=(1<<o)-1,u=c>>1,l=-7,f=r?i-1:0,d=r?-1:1,g=e[t+f];for(f+=d,a=g&(1<<-l)-1,g>>=-l,l+=o;l>0;a=256*a+e[t+f],f+=d,l-=8);for(s=a&(1<<-l)-1,a>>=-l,l+=n;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===a)a=1-u;else{if(a===c)return s?NaN:1/0*(g?-1:1);s+=Math.pow(2,n),a-=u}return(g?-1:1)*s*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var s,o,c,u=8*a-i-1,l=(1<<u)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:a-1,p=n?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=l?(o=0,s=l):s+f>=1?(o=(t*c-1)*Math.pow(2,i),s+=f):(o=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+g]=255&o,g+=p,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[r+g]=255&s,g+=p,s/=256,u-=8);e[r+g-p]|=128*h}},5153:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},352:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,a,s,o,c;if("string"==typeof t&&(a="not ",t.substr(0,4)===a)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var u=("number"!=typeof c&&(c=0),c+1>(o=e).length||-1===o.indexOf(".",c)?"argument":"property");s='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(n(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},3653:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(8817),a=r(2248);r(5153)(u,i);for(var s=n(a.prototype),o=0;o<s.length;o++){var c=s[o];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},8210:(e,t,r)=>{"use strict";e.exports=i;var n=r(5500);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(5153)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},8817:(e,t,r)=>{"use strict";var n;e.exports=E,E.ReadableState=A,r(1590).EventEmitter;var i,a=function(e,t){return e.listeners(t).length},s=r(1773),o=r(5851).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},u=r(4616);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,f,d,g=r(2923),p=r(1735),h=r(9604).getHighWaterMark,m=r(352).q,y=m.ERR_INVALID_ARG_TYPE,b=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5153)(E,s);var x=p.errorOrDestroy,_=["error","close","destroy","pause","resume"];function A(e,t,i){n=n||r(3653),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=h(this,e,"readableHighWaterMark",i),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(1907).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function E(e){if(n=n||r(3653),!(this instanceof E))return new E(e);var t=this instanceof n;this._readableState=new A(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function k(e,t,r,n,a){i("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,j(e)))}}(e,u);else if(a||(s=function(e,t){var r,n;return n=t,o.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(u,t)),s)x(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)u.endEmitted?x(e,new v):S(e,u,t,!0);else if(u.ended)x(e,new b);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?S(e,u,t,!1):M(e,u)):S(e,u,t,!1)}else n||(u.reading=!1,M(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function S(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&R(e)),M(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),k(this,e,t,!1,r)},E.prototype.unshift=function(e){return k(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){l||(l=r(1907).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(j,e))}function j(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,U(e)}function M(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function C(e){i("readable nexttick read 0"),e.read(0)}function L(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function N(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(D,t,e))}function D(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function z(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):R(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&N(this),null;var n,a=t.needReadable;return i("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",a=!0),t.ended||t.reading?i("reading or ended",a=!1):a&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&N(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){x(this,new w("_read()"))},E.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var s=t&&!1===t.end||e===process.stdout||e===process.stderr?p:o;function o(){i("onend"),e.end()}n.endEmitted?process.nextTick(s):r.once("end",s),e.on("unpipe",(function t(a,s){i("onunpipe"),a===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,i("cleanup"),e.removeListener("close",d),e.removeListener("finish",g),e.removeListener("drain",c),e.removeListener("error",f),e.removeListener("unpipe",t),r.removeListener("end",o),r.removeListener("end",p),r.removeListener("data",l),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,U(e))}}(r);e.on("drain",c);var u=!1;function l(t){i("ondata");var a=e.write(t);i("dest.write",a),!1===a&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==z(n.pipes,e))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(t){i("onerror",t),p(),e.removeListener("error",f),0===a(e,"error")&&x(e,t)}function d(){e.removeListener("finish",g),p()}function g(){i("onfinish"),e.removeListener("close",d),p()}function p(){i("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",d),e.once("finish",g),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var s=z(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?R(this):n.reading||process.nextTick(C,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),r},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(L,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){i("wrapped data"),r.decoder&&(a=r.decoder.write(a)),r.objectMode&&null==a||(r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause()))})),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var s=0;s<_.length;s++)e.on(_[s],this.emit.bind(this,_[s]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r(4258)),f(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=B,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===d&&(d=r(7766)),d(E,e,t)})},5500:(e,t,r)=>{"use strict";e.exports=l;var n=r(352).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(3653);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}r(5153)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},2248:(e,t,r)=>{"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=E,E.WritableState=A;var a,s={deprecate:r(6276)},o=r(1773),c=r(5851).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},l=r(1735),f=r(9604).getHighWaterMark,d=r(352).q,g=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,h=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,b=d.ERR_STREAM_NULL_VALUES,w=d.ERR_STREAM_WRITE_AFTER_END,v=d.ERR_UNKNOWN_ENCODING,x=l.errorOrDestroy;function _(){}function A(e,t,a){i=i||r(3653),e=e||{},"boolean"!=typeof a&&(a=t instanceof i),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new h;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(j,e,t),e._writableState.errorEmitted=!0,x(e,n)):(i(n),e._writableState.errorEmitted=!0,x(e,n),j(e,t))}(e,r,n,t,i);else{var a=I(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||T(e,r),n?process.nextTick(S,e,r,a,i):S(e,r,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function E(e){var t=this instanceof(i=i||r(3653));if(!t&&!a.call(E,this))return new E(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function k(e,t,r,n,i,a,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function S(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),j(e,t)}function T(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,a=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var o=0,c=!0;r;)a[o]=r,r.isBuf||(c=!1),r=r.next,o+=1;a.allBuffers=c,k(e,t,!0,t.length,a,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,f=r.callback;if(k(e,t,!1,t.objectMode?1:u.length,u,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(r){t.pendingcb--,r&&x(e,r),t.prefinished=!0,e.emit("prefinish"),j(e,t)}))}function j(e,t){var r=I(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(5153)(E,o),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(a=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!a.call(this,e)||this===E&&e&&e._writableState instanceof A}})):a=function(e){return e instanceof this},E.prototype.pipe=function(){x(this,new m)},E.prototype.write=function(e,t,r){var n,i=this._writableState,a=!1,s=!i.objectMode&&(n=e,c.isBuffer(n)||n instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=_),i.ending?function(e,t){var r=new w;x(e,r),process.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i;return null===r?i=new b:"string"==typeof r||t.objectMode||(i=new g("chunk",["string","Buffer"],r)),!i||(x(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,a=function(e,t,r,n,i,a){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var o=t.objectMode?1:n.length;t.length+=o;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,o,n,i,a);return u}(this,i,s,e,t,r)),a},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new p("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,j(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=l.destroy,E.prototype._undestroy=l.undestroy,E.prototype._destroy=function(e,t){t(e)}},4258:(e,t,r)=>{"use strict";var n;function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(6591),s=Symbol("lastResolve"),o=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function g(e,t){return{value:e,done:t}}function p(e){var t=e[s];if(null!==t){var r=e[d].read();null!==r&&(e[l]=null,e[s]=null,e[o]=null,t(g(r,!1)))}}function h(e){process.nextTick(p,e)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(g(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(g(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(g(void 0,!0)):t[f](r,n)}),n)}}(n,this));else{var i=this[d].read();if(null!==i)return Promise.resolve(g(i,!1));r=new Promise(this[f])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(g(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(y,(i(t={},d,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var n=r[d].read();n?(r[l]=null,r[s]=null,r[o]=null,e(g(n,!1))):(r[s]=e,r[o]=t)},writable:!0}),t));return r[l]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[o];return null!==t&&(r[l]=null,r[s]=null,r[o]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[o]=null,n(g(void 0,!0))),r[u]=!0})),e.on("readable",h.bind(null,r)),r}},2923:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var c=r(5851).Buffer,u=r(2361).inspect,l=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,n,i=c.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,r=i,n=s,c.prototype.copy.call(t,r,n),s+=a.data.length,a=a.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?n+=i:n+=i.slice(0,e),0==(e-=a)){a===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0==(e-=a)){a===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(a));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return u(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},1735:e=>{"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var a=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?a._writableState?a._writableState.errorEmitted?process.nextTick(r,a):(a._writableState.errorEmitted=!0,process.nextTick(t,a,e)):process.nextTick(t,a,e):i?(process.nextTick(r,a),i(e)):process.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},6591:(e,t,r)=>{"use strict";var n=r(352).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,a){if("function"==typeof r)return e(t,null,r);r||(r={}),a=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(a||i);var s=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){o=!1,u=!0,s||a.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){s=!1,f=!0,o||a.call(t)},g=function(e){a.call(t,e)},p=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new n),a.call(t,e)):o&&!u?(t._writableState&&t._writableState.ended||(e=new n),a.call(t,e)):void 0},h=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",p),t.req?h():t.on("request",h)):o&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",d),t.on("finish",l),!1!==r.error&&t.on("error",g),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",h),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",g),t.removeListener("close",p)}}},7766:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},5879:(e,t,r)=>{"use strict";var n,i=r(352).q,a=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,f=function(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new a("streams");var d=t.map((function(e,i){var a=i<t.length-1;return function(e,t,i,a){a=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(a);var o=!1;e.on("close",(function(){o=!0})),void 0===n&&(n=r(6591)),n(e,{readable:t,writable:i},(function(e){if(e)return a(e);o=!0,a()}));var c=!1;return function(t){if(!o&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void a(t||new s("pipe"))}}(e,a,i>0,(function(e){l||(l=e),e&&d.forEach(c),a||(d.forEach(c),f(l))}))}));return t.reduce(u)}},9604:(e,t,r)=>{"use strict";var n=r(352).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var a=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=a){if(!isFinite(a)||Math.floor(a)!==a||a<0)throw new n(i?r:"highWaterMark",a);return Math.floor(a)}return e.objectMode?16:16384}}},1773:(e,t,r)=>{e.exports=r(1590).EventEmitter},9970:(e,t,r)=>{(t=e.exports=r(8817)).Stream=t,t.Readable=t,t.Writable=r(2248),t.Duplex=r(3653),t.Transform=r(5500),t.PassThrough=r(8210),t.finished=r(6591),t.pipeline=r(5879)},2783:(e,t,r)=>{"use strict";const n=r(9970);n.Readable},3311:(e,t,r)=>{var n=r(5851),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),a(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},1907:(e,t,r)=>{"use strict";var n=r(3311).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function g(e){return e&&e.length?this.write(e):""}t.s=a,a.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},6276:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},3070:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}},8794:(e,t,r)=>{"use strict";let n;r.d(t,{Z:()=>a});const i=new Uint8Array(16);function a(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}},7376:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function i(e,t=0){return n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]}},651:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(3070),i=r(8794),a=r(7376);const s=function(e,t,r){if(n.Z.randomUUID&&!t&&!e)return n.Z.randomUUID();const s=(e=e||{}).random||(e.rng||i.Z)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,a.S)(s)}},3145:function(e,t){var r,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,r)=>(...n)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):r.singleCallbackArg||n.length<=1&&!1!==r.singleCallbackArg?t.resolve(n[0]):t.resolve(n)},a=e=>1==e?"argument":"arguments",s=(e,t,r)=>new Proxy(t,{apply:(t,n,i)=>r.call(n,e,...i)});let o=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,t={},r={})=>{let n=Object.create(null),u={has:(t,r)=>r in e||r in n,get(u,l,f){if(l in n)return n[l];if(!(l in e))return;let d=e[l];if("function"==typeof d)if("function"==typeof t[l])d=s(e,e[l],t[l]);else if(o(r,l)){let t=((e,t)=>function(r,...n){if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((a,s)=>{if(t.fallbackToNoCallback)try{r[e](...n,i({resolve:a,reject:s},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),r[e](...n),t.fallbackToNoCallback=!1,t.noCallback=!0,a()}else t.noCallback?(r[e](...n),a()):r[e](...n,i({resolve:a,reject:s},t))}))})(l,r[l]);d=s(e,e[l],t)}else d=d.bind(e);else if("object"==typeof d&&null!==d&&(o(t,l)||o(r,l)))d=c(d,t[l],r[l]);else{if(!o(r,"*"))return Object.defineProperty(n,l,{configurable:!0,enumerable:!0,get:()=>e[l],set(t){e[l]=t}}),d;d=c(d,t[l],r["*"])}return n[l]=d,d},set:(t,r,i,a)=>(r in n?n[r]=i:e[r]=i,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(n,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(n,t)},l=Object.create(e);return new Proxy(l,u)},u=e=>({addListener(t,r,...n){t.addListener(e.get(r),...n)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),l=new n((e=>"function"!=typeof e?e:function(t){const r=c(t,{},{getContent:{minArgs:0,maxArgs:0}});e(r)})),f=new n((e=>"function"!=typeof e?e:function(t,r,n){let i,a,s=!1,o=new Promise((e=>{i=function(t){s=!0,e(t)}}));try{a=e(t,r,i)}catch(e){a=Promise.reject(e)}const c=!0!==a&&((u=a)&&"object"==typeof u&&"function"==typeof u.then);var u;if(!0!==a&&!c&&!s)return!1;return(c?a:o).then((e=>{n(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),d=({reject:r,resolve:n},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?n():r(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?r(new Error(i.message)):n(i)},g=(e,t,r,...n)=>{if(n.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${n.length}`);if(n.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${n.length}`);return new Promise(((e,t)=>{const i=d.bind(null,{resolve:e,reject:t});n.push(i),r.sendMessage(...n)}))},p={devtools:{network:{onRequestFinished:u(l)}},runtime:{onMessage:u(f),onMessageExternal:u(f),sendMessage:g.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:g.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},h={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":h},services:{"*":h},websites:{"*":h}},c(e,p,r)};e.exports=r(chrome)}else e.exports=globalThis.browser},void 0===(n=r.apply(t,[e]))||(e.exports=n)},7924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Support event pages",a="20210820184257_support_event_pages";async function s(){const e={taskRegistry:{lastTaskStart:0,tabs:{},tasks:{}},storageRegistry:{},lastStorageCleanup:0};return e.storageVersion=a,n.storage.local.set(e)}},9730:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add image sharing options",a="20210919175209_add_image_sharing_options";async function s(){const e={shareImageContextMenu:!0,shareImageAction:!0,convertSharedImage:!0};return e.storageVersion=a,n.storage.local.set(e)}},5345:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Unsplash",a="20210928090443_add_unsplash";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["unsplash"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},5985:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>a,revision:()=>s,upgrade:()=>o});var n=r(5221),i=r(3145);const a="Configure engines",s="20211011114043_configure_engines";async function o(){const e={};if("safari"===n.W9){const{engines:t,disabledEngines:r}=await i.storage.local.get(["engines","disabledEngines"]),n=["iqdb","jpDesign"];e.engines=t.concat(n),e.disabledEngines=r.concat(n)}return e.storageVersion=s,i.storage.local.set(e)}},5609:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add SHEIN",a="20211106103932_add_shein";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["shein"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},3395:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add LykDat",a="20211111071410_add_lykdat";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["lykdat"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},5674:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Wildberries",a="20211204124507_add_wildberries";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["wildberries"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},6153:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add lastEngineAccessCheck",a="20211213014048_add_lastengineaccesscheck";async function s(){const e={lastEngineAccessCheck:0};return e.storageVersion=a,n.storage.local.set(e)}},7052:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add setContextMenuEvent",a="20211213191049_add_setcontextmenuevent";async function s(){const e={setContextMenuEvent:0};return e.storageVersion=a,n.storage.local.set(e)}},2145:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>s,revision:()=>o,upgrade:()=>c}),r(7817);var n=r(2667),i=r(5221),a=r(3145);const s="Add Google Lens",o="20220108063511_add_google_lens";async function c(){const e={},{engines:t,disabledEngines:r}=await a.storage.local.get(["engines","disabledEngines"]);if("safari"!==i.W9||!await(0,n.tq)()){const n=["googleLens"];"samsung"===i.W9&&(t.push("mailru"),r.push("mailru")),e.engines=t.concat(n),e.disabledEngines=r.concat(n)}return e.storageVersion=o,a.storage.local.set(e)}},6823:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add clipboard support",a="20220321163741_add_clipboard_support";async function s(){const e={autoPasteAction:!0,confirmPaste:!0};return e.storageVersion=a,n.storage.local.set(e)}},3003:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Detect alternative image sizes",a="20220505174634_detect_alternative_image_sizes";async function s(){const e={detectAltImageDimension:!1};return e.storageVersion=a,n.storage.local.set(e)}},9060:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Update search mode IDs",a="20220516051842_update_search_mode_ids";async function s(){const e={},{searchModeContextMenu:t,searchModeAction:r}=await n.storage.local.get(["searchModeContextMenu","searchModeAction"]),i={select:"selectUrl",selectUpload:"selectImage",upload:"browse"};return i[t]&&(e.searchModeContextMenu=i[t]),i[r]&&(e.searchModeAction=i[r]),e.storageVersion=a,n.storage.local.set(e)}},6002:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Open images",a="20220516124148_open_images";async function s(){const e={viewImageContextMenu:!0,viewImageAction:!0,viewImageUseViewer:!0};return e.storageVersion=a,n.storage.local.set(e)}},2807:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>s,revision:()=>o,upgrade:()=>c});var n=r(2667),i=r(5221),a=r(3145);const s="Configure engines",o="20220814142801_configure_engines";async function c(){const e={};if("safari"===i.W9&&await(0,n.tq)()){const{engines:t,disabledEngines:r}=await a.storage.local.get(["engines","disabledEngines"]),n=["googleLens"];e.engines=t.concat(n),e.disabledEngines=r.concat(n)}return e.storageVersion=o,a.storage.local.set(e)}},1976:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Lexica",a="20220924083846_add_lexica";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["lexica"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},6673:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>a,revision:()=>s,upgrade:()=>o});var n=r(2667),i=r(3145);const a="Add theme support",s="20230415111029_add_theme_support";async function o(){const e={appTheme:"auto",showContribPage:!0,showEngineIcons:!0,contribPageLastAutoOpen:0,pinActionToolbarViewImage:!0,pinActionToolbarShareImage:!1,pinActionToolbarOptions:!1,pinActionToolbarContribute:!0},{installTime:t,searchCount:r}=await i.storage.local.get(["installTime","searchCount"]);return e.installTime=(0,n.Og)(t),e.useCount=r,await i.storage.local.remove(["searchCount","viewImageAction","shareImageAction"]),e.storageVersion=s,i.storage.local.set(e)}},8594:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Remove search engines",a="20230531103023_remove_search_engines";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["jingdong","mailru"];return e.engines=t.filter((function(e){return!i.includes(e)})),e.disabledEngines=r.filter((function(e){return!i.includes(e)})),e.storageVersion=a,n.storage.local.set(e)}},857:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Kagi",a="20230601115626_add_kagi";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["kagi"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},2097:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add search engines",a="20230624145626_add_search_engines";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["haveibeentrained","enterpix","immerse","clipretrieval"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},5072:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Freepik",a="20230716121432_add_freepik";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["freepik"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},1899:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Remove Unsplash",a="20231009185955_remove_unsplash";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["unsplash"];return e.engines=t.filter((function(e){return!i.includes(e)})),e.disabledEngines=r.filter((function(e){return!i.includes(e)})),e.storageVersion=a,n.storage.local.set(e)}},6227:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Icons8",a="20231102164602_add_icons8";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["icons8"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},5590:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add WhatAnime",a="BJXdcUXOG";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("whatanime"),e.disabledEngines=r.concat("whatanime"),e.storageVersion=a,n.storage.local.set(e)}},4171:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add installTime and searchCount",a="BJguWEHcbz";async function s(){const e={};return e.installTime=Date.now(),e.searchCount=0,e.storageVersion=a,n.storage.local.set(e)}},165:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Merge searchAllEngines options",a="Bk42MzXdW";async function s(){const e={},{searchAllEngines:t,searchAllEnginesLocation:r}=await n.storage.local.get(["searchAllEngines","searchAllEnginesLocation"]);return await n.storage.local.remove(["searchAllEngines","searchAllEnginesLocation"]),e.searchAllEnginesContextMenu=t?"menu"===r?"main":"sub":"false",e.storageVersion=a,n.storage.local.set(e)}},9201:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add showInContextMenu, searchAllEnginesAction and searchModeAction options",a="HJ5MKKGhW";async function s(){const e={showInContextMenu:!0,searchAllEnginesAction:"sub",searchModeAction:"select"};return e.storageVersion=a,n.storage.local.set(e)}},5324:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add imgFullParse option",a="Hy1tD8ANb";async function s(){const e={imgFullParse:!1};return e.storageVersion=a,n.storage.local.set(e)}},3365:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Hide unavailable engines",a="IMMjiccGj";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["wayfair","birchlane","allmodern","jossandmain","perigold"];return e.engines=t.filter((function(e){return!i.includes(e)})),e.disabledEngines=r.filter((function(e){return!i.includes(e)})),e.storageVersion=a,n.storage.local.set(e)}},553:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Reddit Repost Sleuth",a="K9Esw2jiQ3";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("repostSleuth"),e.disabledEngines=r.concat("repostSleuth"),e.storageVersion=a,n.storage.local.set(e)}},8654:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add trademark and design patent search engines",a="LX20x6G8l";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["esearch","tmview","branddb","madridMonitor","auTrademark","auDesign","nzTrademark","jpDesign"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},7338:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Iqdb",a="S18hLi5tG";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("iqdb"),e.disabledEngines=r.concat("iqdb"),e.storageVersion=a,n.storage.local.set(e)}},7011:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Karma Decay",a="S1ebtZ3Uzz";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("karmaDecay"),e.disabledEngines=r.concat("karmaDecay"),e.storageVersion=a,n.storage.local.set(e)}},5957:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Sogou engine",a="S1kNNadHZ";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("sogou"),e.disabledEngines=r.concat("sogou"),e.storageVersion=a,n.storage.local.set(e)}},3736:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Ascii2d",a="SJzIWmjKz";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("ascii2d"),e.disabledEngines=r.concat("ascii2d"),e.storageVersion=a,n.storage.local.set(e)}},4476:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Dreamstime, Alamy and 123RF",a="ShjDMM87";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["dreamstime","alamy","123rf"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},8811:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add SauceNAO",a="SklYTwQOYf";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("saucenao"),e.disabledEngines=r.concat("saucenao"),e.storageVersion=a,n.storage.local.set(e)}},3700:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Qihoo",a="SkwaU8NlX";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("qihoo"),e.disabledEngines=r.concat("qihoo"),e.storageVersion=a,n.storage.local.set(e)}},2705:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Pinterest",a="Syy800KkQ";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("pinterest"),e.disabledEngines=r.concat("pinterest"),e.storageVersion=a,n.storage.local.set(e)}},7714:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>s,revision:()=>o,upgrade:()=>c}),r(7817);var n=r(2667),i=r(5221),a=r(3145);const s="Configure search engines",o="TshBYj8anA";async function c(){const e={},{installTime:t}=await a.storage.local.get("installTime");let{engines:r,disabledEngines:s}=await a.storage.local.get(["engines","disabledEngines"]);const c=[];if("samsung"===i.W9?(r.splice(r.indexOf("auDesign"),0,"auTrademark"),s.push("auTrademark","dreamstime")):"safari"===i.W9&&c.push("iqdb","jpDesign"),(await(0,n.Dt)()||"safari"===i.W9)&&c.push("jingdong","taobao","alibabaChina"),c.length&&(r=r.filter((function(e){return!c.includes(e)})),s=s.filter((function(e){return!c.includes(e)}))),Date.now()-t<6e4){"samsung"===i.W9&&s.push("dreamstime");const e=["sogou","shutterstock","alamy"];s=s.filter((function(t){return!e.includes(t)}))}return r.splice(r.indexOf("baidu")+1,0,r.splice(r.indexOf("sogou"),1)[0]),e.engines=r,e.disabledEngines=s,e.storageVersion=o,a.storage.local.set(e)}},5090:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add bypassImageHostBlocking",a="UhWEtK9gMh";async function s(){const e={bypassImageHostBlocking:!0};return e.storageVersion=a,n.storage.local.set(e)}},8372:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add PimEyes, Stocksy United, Pond5, PIXTA and Wayfair",a="d8CIdomCW";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["pimeyes","stocksy","pond5","pixta","wayfair"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},8043:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>a,revision:()=>s,upgrade:()=>o});var n=r(5221),i=r(3145);const a="Configure engines for Samsung Internet",s="d8IK4KCtVm";async function o(){const e={};if("samsung"===n.W9){const{engines:t,disabledEngines:r}=await i.storage.local.get(["engines","disabledEngines"]),n=["shutterstock","dreamstime"],a=["mailru","jingdong","taobao","alibabaChina","auTrademark"];e.engines=t.filter((function(e){return!a.includes(e)})),e.disabledEngines=r.filter((function(e){return!n.includes(e)&&!a.includes(e)}))}return e.storageVersion=s,i.storage.local.set(e)}},5855:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Mail.ru",a="ekhOvNiTsF";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]);return e.engines=t.concat("mailru"),e.disabledEngines=r.concat("mailru"),e.storageVersion=a,n.storage.local.set(e)}},9996:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add new search engines",a="ggrr9C9pgV";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["birchlane","allmodern","jossandmain","perigold","ikea"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},2717:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add stock photo engines",a="r1H3rgx1X";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["getty","istock","shutterstock","adobestock","depositphotos"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},3980:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add searchModeContextMenu",a="r1Pvd36nz";async function s(){const e={searchModeContextMenu:"select"};return e.storageVersion=a,n.storage.local.set(e)}},8184:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add contribPageLastOpen",a="ryY8H0EWf";async function s(){const e={contribPageLastOpen:0};return e.storageVersion=a,n.storage.local.set(e)}},4496:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Initial version",a="ryekyizAg";async function s(){const e={engines:["google","bing","yandex","baidu","tineye"],disabledEngines:[],searchAllEngines:!0,searchAllEnginesLocation:"submenu",tabInBackgound:!1,localGoogle:!0};return e.storageVersion=a,n.storage.local.set(e)}},5850:(e,t,r)=>{"use strict";r.r(t),r.d(t,{message:()=>i,revision:()=>a,upgrade:()=>s});var n=r(3145);const i="Add Jingdong, Taobao and Alibaba China",a="yLciyvS5He";async function s(){const e={},{engines:t,disabledEngines:r}=await n.storage.local.get(["engines","disabledEngines"]),i=["jingdong","taobao","alibabaChina"];return e.engines=t.concat(i),e.disabledEngines=r.concat(i),e.storageVersion=a,n.storage.local.set(e)}},1068:(e,t,r)=>{"use strict";r.d(t,{$r:()=>a,ZP:()=>u,m9:()=>o}),r(9291);var n=r(5221),i=r(3145);async function a({area:e="local"}={}){try{return await i.storage[e].get(""),!0}catch(e){return!1}}const s={session:!0};async function o({area:e="local"}={}){if(s[e])return!0;{const{storageVersion:t}=await i.storage[e].get("storageVersion");if(t&&t===n.n_[e])return s[e]=!0,!0}return!1}async function c({area:e="local"}={}){if(!s[e])return new Promise(((t,r)=>{let n;const i=async function(){await o({area:e})?(window.clearTimeout(a),t()):n?r(new Error(`Storage (${e}) is not ready`)):window.setTimeout(i,30)},a=window.setTimeout((function(){n=!0}),6e4);i()}))}const u={get:async function(e=null,{area:t="local"}={}){return await c({area:t}),i.storage[t].get(e)},set:async function(e,{area:t="local"}={}){return await c({area:t}),i.storage[t].set(e)},remove:async function(e,{area:t="local"}={}){return await c({area:t}),i.storage[t].remove(e)},clear:async function({area:e="local"}={}){return await c({area:e}),i.storage[e].clear()}}},2667:(e,t,r)=>{"use strict";r.d(t,{Dt:()=>T,Ef:()=>A,F$:()=>g,GK:()=>w,Hp:()=>y,Og:()=>j,Q:()=>o,Qr:()=>d,Tc:()=>O,Xf:()=>S,Yw:()=>f,ZW:()=>l,_9:()=>M,_c:()=>x,fL:()=>b,fr:()=>E,iP:()=>v,k7:()=>p,kD:()=>m,nE:()=>c,tq:()=>I,xG:()=>_,yt:()=>R}),r(1431),r(68),r(8681),r(12),r(9639),r(9517),r(2029),r(9291);var n=r(651),i=r(1068),a=r(5221),s=r(3145);function o(e,t){return s.i18n.getMessage(e,t)}function c(){s.runtime.lastError&&console.log(`Error: ${s.runtime.lastError}`)}function u(e){return new Promise((t=>setTimeout(t,e)))}async function l({url:e="",token:t="",index:r=null,active:n=!0,openerTabId:i=null,getTab:o=!1}={}){e||(e=f(t));const c={url:e,active:n};null!==r&&(c.index=r),null!==i&&(c.openerTabId=i);let l=await s.tabs.create(c);if(o){if("samsung"===a.W9){let t=1;for(;t<=500&&(!l||l.url!==e);)[l]=await s.tabs.query({lastFocusedWindow:!0,url:e}),await u(20),t+=1}return l}}function f(e){return e||(e=(0,n.Z)()),`${s.runtime.getURL("/src/tab/index.html")}?id=${e}`}function d(e,t,r=0,n="document_start"){return s.tabs.executeScript(t,{frameId:r,runAt:n,code:e})}function g(e,t,r=0,n="document_start"){return s.tabs.executeScript(t,{frameId:r,runAt:n,file:e})}function p(e){return e.slice(0,100).split(",")[0].split(":")[1].split(";")[0].toLowerCase()}function h(e){const[t,r]=e.split(",");let n;n=t.endsWith(";base64")?atob(r):unescape(r);const i=n.length,a=new Uint8Array(new ArrayBuffer(i));for(let e=0;e<i;e++)a[e]=n.charCodeAt(e);return a}function m(e){return new Blob([h(e)],{type:p(e)})}async function y(e){return new Uint8Array(await new Response(e).arrayBuffer())}function b(e){return new Promise((t=>{const r=new FileReader;r.onload=e=>{t(e.target.result)},r.onerror=()=>{t()},r.onabort=()=>{t()},r.readAsDataURL(e)}))}function*w(e,t){let r=0;for(;r<e.length;){const n=Math.min(r+t,e.length);yield e.slice(r,n),r=n}}function v(e,{ctx:t,type:r="image/png",quality:n=.8,clear:i=!0}={}){let a;try{a=e.toDataURL(r,n)}catch(e){}return i&&(t||(t=e.getContext("2d")),t.clearRect(0,0,e.width,e.height)),a}function x(e,{ctx:t,type:r="image/png",quality:n=.8,clear:i=!0}={}){return new Promise((a=>{function s(){i&&(t||(t=e.getContext("2d")),t.clearRect(0,0,e.width,e.height))}try{e.toBlob((function(e){s(),a(e)}),r,n)}catch(e){s(),a()}}))}function _(e){const t=e.split("/").pop().replace(/(?:#|\?).*?$/,"").split(".");let r="",n="";return 1===t.length?r=t[0]:(r=t.join("."),n=t.pop().toLowerCase()),{name:r,ext:n}}function A(e){return(/(?:\.([^.]+))?$/.exec(e)[1]||"").toLowerCase()}async function E(){const[e]=await s.tabs.query({lastFocusedWindow:!0,active:!0});return e}let k;async function S(){if(window.location.href!==s.runtime.getURL("/src/background/index.html"))return s.runtime.sendMessage({id:"getPlatform"});let{os:e,arch:t}=await async function(){if(k)return k;const e=await(0,i.$r)({area:"session"});if(e)({platformInfo:k}=await i.ZP.get("platformInfo",{area:"session"}));else try{k=JSON.parse(window.sessionStorage.getItem("platformInfo"))}catch(e){}if(!k){let t,r;if("samsung"===a.W9?(t="android",r=""):"safari"===a.W9?({os:t,arch:r}=await s.runtime.sendNativeMessage("application.id",{id:"getPlatformInfo"})):({os:t,arch:r}=await s.runtime.getPlatformInfo()),k={os:t,arch:r},e)await i.ZP.set({platformInfo:k},{area:"session"});else try{window.sessionStorage.setItem("platformInfo",JSON.stringify(k))}catch(e){}}return k}();"win"===e?e="windows":"mac"===e&&(e="macos"),["x86-32","i386"].includes(t)?t="386":["x86-64","x86_64"].includes(t)?t="amd64":t.startsWith("arm")&&(t="arm");const r="windows"===e,n="macos"===e,o="linux"===e,c="android"===e,u="ios"===e,l="ipados"===e,f=["android","ios","ipados"].includes(e),d="chrome"===a.W9,g=["chrome","edge"].includes(a.W9)&&/\sedg(?:e|a|ios)?\//i.test(navigator.userAgent),p="firefox"===a.W9,h=["chrome","opera"].includes(a.W9)&&/\sopr\//i.test(navigator.userAgent),m="safari"===a.W9,y="samsung"===a.W9;return{os:e,arch:t,targetEnv:a.W9,isWindows:r,isMacos:n,isLinux:o,isAndroid:c,isIos:u,isIpados:l,isMobile:f,isChrome:d,isEdge:g,isFirefox:p,isOpera:h,isSafari:m,isSamsung:y}}async function T(){return(await S()).isAndroid}async function I(){return(await S()).isMobile}function R(){return window.matchMedia("(prefers-color-scheme: dark)")}function j(e){return e||(e=Date.now()),e-e%864e5}async function M({tab:e,tabId:t=null}={}){if(e||null===t||(e=await s.tabs.get(t).catch((e=>null))),e&&e.id!==s.tabs.TAB_ID_NONE)return!0}function O(e){return parseInt(e,10)}},5221:(e,t,r)=>{"use strict";r.d(t,{W9:()=>n,n_:()=>a,pL:()=>i});const n="chrome",i=!0,a={local:"20231102164602_add_icons8"}},36:(e,t,r)=>{var n={"./local/20210820184257_support_event_pages.js":7924,"./local/20210919175209_add_image_sharing_options.js":9730,"./local/20210928090443_add_unsplash.js":5345,"./local/20211011114043_configure_engines.js":5985,"./local/20211106103932_add_shein.js":5609,"./local/20211111071410_add_lykdat.js":3395,"./local/20211204124507_add_wildberries.js":5674,"./local/20211213014048_add_lastengineaccesscheck.js":6153,"./local/20211213191049_add_setcontextmenuevent.js":7052,"./local/20220108063511_add_google_lens.js":2145,"./local/20220321163741_add_clipboard_support.js":6823,"./local/20220505174634_detect_alternative_image_sizes.js":3003,"./local/20220516051842_update_search_mode_ids.js":9060,"./local/20220516124148_open_images.js":6002,"./local/20220814142801_configure_engines.js":2807,"./local/20220924083846_add_lexica.js":1976,"./local/20230415111029_add_theme_support.js":6673,"./local/20230531103023_remove_search_engines.js":8594,"./local/20230601115626_add_kagi.js":857,"./local/20230624145626_add_search_engines.js":2097,"./local/20230716121432_add_freepik.js":5072,"./local/20231009185955_remove_unsplash.js":1899,"./local/20231102164602_add_icons8.js":6227,"./local/BJXdcUXOG.js":5590,"./local/BJguWEHcbz.js":4171,"./local/Bk42MzXdW.js":165,"./local/HJ5MKKGhW.js":9201,"./local/Hy1tD8ANb.js":5324,"./local/IMMjiccGj.js":3365,"./local/K9Esw2jiQ3.js":553,"./local/LX20x6G8l.js":8654,"./local/S18hLi5tG.js":7338,"./local/S1ebtZ3Uzz.js":7011,"./local/S1kNNadHZ.js":5957,"./local/SJzIWmjKz.js":3736,"./local/ShjDMM87.js":4476,"./local/SklYTwQOYf.js":8811,"./local/SkwaU8NlX.js":3700,"./local/Syy800KkQ.js":2705,"./local/TshBYj8anA.js":7714,"./local/UhWEtK9gMh.js":5090,"./local/d8CIdomCW.js":8372,"./local/d8IK4KCtVm.js":8043,"./local/ekhOvNiTsF.js":5855,"./local/ggrr9C9pgV.js":9996,"./local/r1H3rgx1X.js":2717,"./local/r1Pvd36nz.js":3980,"./local/ryY8H0EWf.js":8184,"./local/ryekyizAg.js":4496,"./local/yLciyvS5He.js":5850};function i(e){return a(e).then(r)}function a(e){return Promise.resolve().then((()=>{if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}))}i.keys=()=>Object.keys(n),i.resolve=a,i.id=36,e.exports=i},2361:()=>{},4616:()=>{},9841:(e,t,r)=>{"use strict";var n=r(8057),i=r(7099),a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not a function")}},7851:(e,t,r)=>{"use strict";var n=r(8057),i=String,a=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw new a("Can't set "+i(e)+" as a prototype")}},846:(e,t,r)=>{"use strict";var n=r(2578),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},3339:(e,t,r)=>{"use strict";var n=r(286),i=String,a=TypeError;e.exports=function(e){if(n(e))return e;throw new a(i(e)+" is not an object")}},3161:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},1691:(e,t,r)=>{"use strict";var n,i,a,s=r(3161),o=r(3992),c=r(2816),u=r(8057),l=r(286),f=r(2308),d=r(6568),g=r(7099),p=r(7964),h=r(2458),m=r(7706),y=r(2578),b=r(3310),w=r(1011),v=r(9454),x=r(9597),_=r(7576),A=_.enforce,E=_.get,k=c.Int8Array,S=k&&k.prototype,T=c.Uint8ClampedArray,I=T&&T.prototype,R=k&&b(k),j=S&&b(S),M=Object.prototype,O=c.TypeError,P=v("toStringTag"),C=x("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",U=s&&!!w&&"Opera"!==d(c.opera),B=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D={BigInt64Array:8,BigUint64Array:8},z=function(e){var t=b(e);if(l(t)){var r=E(t);return r&&f(r,L)?r[L]:z(t)}},F=function(e){if(!l(e))return!1;var t=d(e);return f(N,t)||f(D,t)};for(n in N)(a=(i=c[n])&&i.prototype)?A(a)[L]=i:U=!1;for(n in D)(a=(i=c[n])&&i.prototype)&&(A(a)[L]=i);if((!U||!u(R)||R===Function.prototype)&&(R=function(){throw new O("Incorrect invocation")},U))for(n in N)c[n]&&w(c[n],R);if((!U||!j||j===M)&&(j=R.prototype,U))for(n in N)c[n]&&w(c[n].prototype,j);if(U&&b(I)!==j&&w(I,j),o&&!f(j,P))for(n in B=!0,m(j,P,{configurable:!0,get:function(){return l(this)?this[C]:void 0}}),N)c[n]&&p(c[n],C,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:U,TYPED_ARRAY_TAG:B&&C,aTypedArray:function(e){if(F(e))return e;throw new O("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!w||y(R,e)))return e;throw new O(g(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(o){if(r)for(var i in N){var a=c[i];if(a&&f(a.prototype,e))try{delete a.prototype[e]}catch(r){try{a.prototype[e]=t}catch(e){}}}j[e]&&!r||h(j,e,r?t:U&&S[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(o){if(w){if(r)for(n in N)if((i=c[n])&&f(i,e))try{delete i[e]}catch(e){}if(R[e]&&!r)return;try{return h(R,e,r?t:U&&R[e]||t)}catch(e){}}for(n in N)!(i=c[n])||i[e]&&!r||h(i,e,t)}},getTypedArrayConstructor:z,isView:function(e){if(!l(e))return!1;var t=d(e);return"DataView"===t||f(N,t)||f(D,t)},isTypedArray:F,TypedArray:R,TypedArrayPrototype:j}},9853:(e,t,r)=>{"use strict";var n=r(6818);e.exports=function(e,t){for(var r=0,i=n(t),a=new e(i);i>r;)a[r]=t[r++];return a}},1024:(e,t,r)=>{"use strict";var n=r(9083),i=r(3168),a=r(6818),s=function(e){return function(t,r,s){var o,c=n(t),u=a(c),l=i(s,u);if(e&&r!=r){for(;u>l;)if((o=c[l++])!=o)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},584:(e,t,r)=>{"use strict";var n=r(94),i=r(9645),a=r(8090),s=r(6818),o=function(e){var t=1===e;return function(r,o,c){for(var u,l=a(r),f=i(l),d=n(o,c),g=s(f);g-- >0;)if(d(u=f[g],g,l))switch(e){case 0:return u;case 1:return g}return t?-1:void 0}};e.exports={findLast:o(0),findLastIndex:o(1)}},2614:(e,t,r)=>{"use strict";var n=r(3992),i=r(7922),a=TypeError,s=Object.getOwnPropertyDescriptor,o=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=o?function(e,t){if(i(e)&&!s(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},3595:(e,t,r)=>{"use strict";var n=r(6818);e.exports=function(e,t){for(var r=n(e),i=new t(r),a=0;a<r;a++)i[a]=e[r-a-1];return i}},5556:(e,t,r)=>{"use strict";var n=r(6818),i=r(9562),a=RangeError;e.exports=function(e,t,r,s){var o=n(e),c=i(r),u=c<0?o+c:c;if(u>=o||u<0)throw new a("Incorrect index");for(var l=new t(o),f=0;f<o;f++)l[f]=f===u?s:e[f];return l}},7426:(e,t,r)=>{"use strict";var n=r(4200),i=n({}.toString),a=n("".slice);e.exports=function(e){return a(i(e),8,-1)}},6568:(e,t,r)=>{"use strict";var n=r(3065),i=r(8057),a=r(7426),s=r(9454)("toStringTag"),o=Object,c="Arguments"===a(function(){return arguments}());e.exports=n?a:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=o(e),s))?r:c?a(t):"Object"===(n=a(t))&&i(t.callee)?"Arguments":n}},7731:(e,t,r)=>{"use strict";var n=r(2308),i=r(1129),a=r(8247),s=r(2254);e.exports=function(e,t,r){for(var o=i(t),c=s.f,u=a.f,l=0;l<o.length;l++){var f=o[l];n(e,f)||r&&n(r,f)||c(e,f,u(t,f))}}},7095:(e,t,r)=>{"use strict";var n=r(4267);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},7964:(e,t,r)=>{"use strict";var n=r(3992),i=r(2254),a=r(2368);e.exports=n?function(e,t,r){return i.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},2368:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7706:(e,t,r)=>{"use strict";var n=r(4656),i=r(2254);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},2458:(e,t,r)=>{"use strict";var n=r(8057),i=r(2254),a=r(4656),s=r(9889);e.exports=function(e,t,r,o){o||(o={});var c=o.enumerable,u=void 0!==o.name?o.name:t;if(n(r)&&a(r,u,o),o.global)c?e[t]=r:s(t,r);else{try{o.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return e}},9889:(e,t,r)=>{"use strict";var n=r(2816),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},3992:(e,t,r)=>{"use strict";var n=r(4267);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2961:e=>{"use strict";var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},9436:(e,t,r)=>{"use strict";var n=r(2816),i=r(286),a=n.document,s=i(a)&&i(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},5175:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},9863:e=>{"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},9183:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},1354:(e,t,r)=>{"use strict";var n,i,a=r(2816),s=r(9183),o=a.process,c=a.Deno,u=o&&o.versions||c&&c.version,l=u&&u.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},5506:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6622:(e,t,r)=>{"use strict";var n=r(4200),i=Error,a=n("".replace),s=String(new i("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,c=o.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=a(e,o,"");return e}},187:(e,t,r)=>{"use strict";var n=r(7964),i=r(6622),a=r(5981),s=Error.captureStackTrace;e.exports=function(e,t,r,o){a&&(s?s(e,t):n(e,"stack",i(r,o)))}},5981:(e,t,r)=>{"use strict";var n=r(4267),i=r(2368);e.exports=!n((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},9931:(e,t,r)=>{"use strict";var n=r(2816),i=r(8247).f,a=r(7964),s=r(2458),o=r(9889),c=r(7731),u=r(1420);e.exports=function(e,t){var r,l,f,d,g,p=e.target,h=e.global,m=e.stat;if(r=h?n:m?n[p]||o(p,{}):(n[p]||{}).prototype)for(l in t){if(d=t[l],f=e.dontCallGetSet?(g=i(r,l))&&g.value:r[l],!u(h?l:p+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(e.sham||f&&f.sham)&&a(d,"sham",!0),s(r,l,d,e)}}},4267:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},7497:(e,t,r)=>{"use strict";var n=r(8002),i=Function.prototype,a=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(a):function(){return s.apply(a,arguments)})},94:(e,t,r)=>{"use strict";var n=r(550),i=r(9841),a=r(8002),s=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:a?s(e,t):function(){return e.apply(t,arguments)}}},8002:(e,t,r)=>{"use strict";var n=r(4267);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},1771:(e,t,r)=>{"use strict";var n=r(8002),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},4103:(e,t,r)=>{"use strict";var n=r(3992),i=r(2308),a=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,o=i(a,"name"),c=o&&"something"===function(){}.name,u=o&&(!n||n&&s(a,"name").configurable);e.exports={EXISTS:o,PROPER:c,CONFIGURABLE:u}},5005:(e,t,r)=>{"use strict";var n=r(4200),i=r(9841);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},550:(e,t,r)=>{"use strict";var n=r(7426),i=r(4200);e.exports=function(e){if("Function"===n(e))return i(e)}},4200:(e,t,r)=>{"use strict";var n=r(8002),i=Function.prototype,a=i.call,s=n&&i.bind.bind(a,a);e.exports=n?s:function(e){return function(){return a.apply(e,arguments)}}},5026:(e,t,r)=>{"use strict";var n=r(2816),i=r(8057);e.exports=function(e,t){return arguments.length<2?(r=n[e],i(r)?r:void 0):n[e]&&n[e][t];var r}},7566:(e,t,r)=>{"use strict";var n=r(9841),i=r(6657);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},2816:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||this||Function("return this")()},2308:(e,t,r)=>{"use strict";var n=r(4200),i=r(8090),a=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(i(e),t)}},2489:e=>{"use strict";e.exports={}},912:(e,t,r)=>{"use strict";var n=r(3992),i=r(4267),a=r(9436);e.exports=!n&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},9645:(e,t,r)=>{"use strict";var n=r(4200),i=r(4267),a=r(7426),s=Object,o=n("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?o(e,""):s(e)}:s},5211:(e,t,r)=>{"use strict";var n=r(8057),i=r(286),a=r(1011);e.exports=function(e,t,r){var s,o;return a&&n(s=t.constructor)&&s!==r&&i(o=s.prototype)&&o!==r.prototype&&a(e,o),e}},1005:(e,t,r)=>{"use strict";var n=r(4200),i=r(8057),a=r(4082),s=n(Function.toString);i(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},3224:(e,t,r)=>{"use strict";var n=r(286),i=r(7964);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},7576:(e,t,r)=>{"use strict";var n,i,a,s=r(7573),o=r(2816),c=r(286),u=r(7964),l=r(2308),f=r(4082),d=r(5979),g=r(2489),p="Object already initialized",h=o.TypeError,m=o.WeakMap;if(s||f.state){var y=f.state||(f.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,n=function(e,t){if(y.has(e))throw new h(p);return t.facade=e,y.set(e,t),t},i=function(e){return y.get(e)||{}},a=function(e){return y.has(e)}}else{var b=d("state");g[b]=!0,n=function(e,t){if(l(e,b))throw new h(p);return t.facade=e,u(e,b,t),t},i=function(e){return l(e,b)?e[b]:{}},a=function(e){return l(e,b)}}e.exports={set:n,get:i,has:a,enforce:function(e){return a(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw new h("Incompatible receiver, "+e+" required");return r}}}},7922:(e,t,r)=>{"use strict";var n=r(7426);e.exports=Array.isArray||function(e){return"Array"===n(e)}},949:(e,t,r)=>{"use strict";var n=r(6568);e.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},8057:(e,t,r)=>{"use strict";var n=r(2961),i=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},1420:(e,t,r)=>{"use strict";var n=r(4267),i=r(8057),a=/#|\.prototype\./,s=function(e,t){var r=c[o(e)];return r===l||r!==u&&(i(t)?n(t):!!t)},o=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},6657:e=>{"use strict";e.exports=function(e){return null==e}},286:(e,t,r)=>{"use strict";var n=r(8057),i=r(2961),a=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===a}:function(e){return"object"==typeof e?null!==e:n(e)}},7289:e=>{"use strict";e.exports=!1},7459:(e,t,r)=>{"use strict";var n=r(5026),i=r(8057),a=r(2578),s=r(3614),o=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&a(t.prototype,o(e))}},6818:(e,t,r)=>{"use strict";var n=r(9884);e.exports=function(e){return n(e.length)}},4656:(e,t,r)=>{"use strict";var n=r(4200),i=r(4267),a=r(8057),s=r(2308),o=r(3992),c=r(4103).CONFIGURABLE,u=r(1005),l=r(7576),f=l.enforce,d=l.get,g=String,p=Object.defineProperty,h=n("".slice),m=n("".replace),y=n([].join),b=o&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),w=String(String).split("String"),v=e.exports=function(e,t,r){"Symbol("===h(g(t),0,7)&&(t="["+m(g(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(o?p(e,"name",{value:t,configurable:!0}):e.name=t),b&&r&&s(r,"arity")&&e.length!==r.arity&&p(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?o&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=f(e);return s(n,"source")||(n.source=y(w,"string"==typeof t?t:"")),e};Function.prototype.toString=v((function(){return a(this)&&d(this).source||u(this)}),"toString")},307:e=>{"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},6769:(e,t,r)=>{"use strict";var n=r(7974);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},2254:(e,t,r)=>{"use strict";var n=r(3992),i=r(912),a=r(2785),s=r(3339),o=r(6303),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",g="writable";t.f=n?a?function(e,t,r){if(s(e),t=o(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&g in r&&!r[g]){var n=l(e,t);n&&n[g]&&(e[t]=r.value,r={configurable:d in r?r[d]:n[d],enumerable:f in r?r[f]:n[f],writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(s(e),t=o(t),s(r),i)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},8247:(e,t,r)=>{"use strict";var n=r(3992),i=r(1771),a=r(7374),s=r(2368),o=r(9083),c=r(6303),u=r(2308),l=r(912),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=o(e),t=c(t),l)try{return f(e,t)}catch(e){}if(u(e,t))return s(!i(a.f,e,t),e[t])}},8374:(e,t,r)=>{"use strict";var n=r(65),i=r(5506).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},6872:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},3310:(e,t,r)=>{"use strict";var n=r(2308),i=r(8057),a=r(8090),s=r(5979),o=r(7095),c=s("IE_PROTO"),u=Object,l=u.prototype;e.exports=o?u.getPrototypeOf:function(e){var t=a(e);if(n(t,c))return t[c];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof u?l:null}},2578:(e,t,r)=>{"use strict";var n=r(4200);e.exports=n({}.isPrototypeOf)},65:(e,t,r)=>{"use strict";var n=r(4200),i=r(2308),a=r(9083),s=r(1024).indexOf,o=r(2489),c=n([].push);e.exports=function(e,t){var r,n=a(e),u=0,l=[];for(r in n)!i(o,r)&&i(n,r)&&c(l,r);for(;t.length>u;)i(n,r=t[u++])&&(~s(l,r)||c(l,r));return l}},7374:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},1011:(e,t,r)=>{"use strict";var n=r(5005),i=r(3339),a=r(7851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),a(n),t?e(r,n):r.__proto__=n,r}}():void 0)},3340:(e,t,r)=>{"use strict";var n=r(1771),i=r(8057),a=r(286),s=TypeError;e.exports=function(e,t){var r,o;if("string"===t&&i(r=e.toString)&&!a(o=n(r,e)))return o;if(i(r=e.valueOf)&&!a(o=n(r,e)))return o;if("string"!==t&&i(r=e.toString)&&!a(o=n(r,e)))return o;throw new s("Can't convert object to primitive value")}},1129:(e,t,r)=>{"use strict";var n=r(5026),i=r(4200),a=r(8374),s=r(6872),o=r(3339),c=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=a.f(o(e)),r=s.f;return r?c(t,r(e)):t}},2256:(e,t,r)=>{"use strict";var n=r(2254).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},2262:(e,t,r)=>{"use strict";var n=r(6657),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},5979:(e,t,r)=>{"use strict";var n=r(1881),i=r(9597),a=n("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},4082:(e,t,r)=>{"use strict";var n=r(2816),i=r(9889),a="__core-js_shared__",s=n[a]||i(a,{});e.exports=s},1881:(e,t,r)=>{"use strict";var n=r(7289),i=r(4082);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.2",mode:n?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"})},8129:(e,t,r)=>{"use strict";var n=r(1354),i=r(4267),a=r(2816).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},3168:(e,t,r)=>{"use strict";var n=r(9562),i=Math.max,a=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):a(r,t)}},8870:(e,t,r)=>{"use strict";var n=r(4856),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},9083:(e,t,r)=>{"use strict";var n=r(9645),i=r(2262);e.exports=function(e){return n(i(e))}},9562:(e,t,r)=>{"use strict";var n=r(307);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},9884:(e,t,r)=>{"use strict";var n=r(9562),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},8090:(e,t,r)=>{"use strict";var n=r(2262),i=Object;e.exports=function(e){return i(n(e))}},6772:(e,t,r)=>{"use strict";var n=r(3865),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw new i("Wrong offset");return r}},3865:(e,t,r)=>{"use strict";var n=r(9562),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw new i("The argument can't be less than 0");return t}},4856:(e,t,r)=>{"use strict";var n=r(1771),i=r(286),a=r(7459),s=r(7566),o=r(3340),c=r(9454),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!i(e)||a(e))return e;var r,c=s(e,l);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!i(r)||a(r))return r;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},6303:(e,t,r)=>{"use strict";var n=r(4856),i=r(7459);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},3065:(e,t,r)=>{"use strict";var n={};n[r(9454)("toStringTag")]="z",e.exports="[object z]"===String(n)},7974:(e,t,r)=>{"use strict";var n=r(6568),i=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},7099:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9597:(e,t,r)=>{"use strict";var n=r(4200),i=0,a=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+a,36)}},3614:(e,t,r)=>{"use strict";var n=r(8129);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2785:(e,t,r)=>{"use strict";var n=r(3992),i=r(4267);e.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8907:e=>{"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},7573:(e,t,r)=>{"use strict";var n=r(2816),i=r(8057),a=n.WeakMap;e.exports=i(a)&&/native code/.test(String(a))},9454:(e,t,r)=>{"use strict";var n=r(2816),i=r(1881),a=r(2308),s=r(9597),o=r(8129),c=r(3614),u=n.Symbol,l=i("wks"),f=c?u.for||u:u&&u.withoutSetter||s;e.exports=function(e){return a(l,e)||(l[e]=o&&a(u,e)?u[e]:f("Symbol."+e)),l[e]}},4006:(e,t,r)=>{"use strict";var n=r(5026),i=r(2308),a=r(7964),s=r(2578),o=r(1011),c=r(7731),u=r(2256),l=r(5211),f=r(6769),d=r(3224),g=r(187),p=r(3992),h=r(7289);e.exports=function(e,t,r,m){var y="stackTraceLimit",b=m?2:1,w=e.split("."),v=w[w.length-1],x=n.apply(null,w);if(x){var _=x.prototype;if(!h&&i(_,"cause")&&delete _.cause,!r)return x;var A=n("Error"),E=t((function(e,t){var r=f(m?t:e,void 0),n=m?new x(e):new x;return void 0!==r&&a(n,"message",r),g(n,E,n.stack,2),this&&s(_,this)&&l(n,this,E),arguments.length>b&&d(n,arguments[b]),n}));if(E.prototype=_,"Error"!==v?o?o(E,A):c(E,A,{name:!0}):p&&y in x&&(u(E,x,y),u(E,x,"prepareStackTrace")),c(E,x),!h)try{_.name!==v&&a(_,"name",v),_.constructor=E}catch(e){}return E}}},7817:(e,t,r)=>{"use strict";var n=r(9931),i=r(8090),a=r(6818),s=r(2614),o=r(5175);n({target:"Array",proto:!0,arity:1,forced:r(4267)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),r=a(t),n=arguments.length;o(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return s(t,r),r}})},9291:(e,t,r)=>{"use strict";var n=r(9931),i=r(2816),a=r(7497),s=r(4006),o="WebAssembly",c=i[o],u=7!==new Error("e",{cause:7}).cause,l=function(e,t){var r={};r[e]=s(e,t,u),n({global:!0,constructor:!0,arity:1,forced:u},r)},f=function(e,t){if(c&&c[e]){var r={};r[e]=s(o+"."+e,t,u),n({target:o,stat:!0,constructor:!0,arity:1,forced:u},r)}};l("Error",(function(e){return function(t){return a(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),l("URIError",(function(e){return function(t){return a(e,this,arguments)}})),f("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),f("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),f("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},8681:(e,t,r)=>{"use strict";var n=r(1691),i=r(584).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},68:(e,t,r)=>{"use strict";var n=r(1691),i=r(584).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0)}))},12:(e,t,r)=>{"use strict";var n=r(2816),i=r(1771),a=r(1691),s=r(6818),o=r(6772),c=r(8090),u=r(4267),l=n.RangeError,f=n.Int8Array,d=f&&f.prototype,g=d&&d.set,p=a.aTypedArray,h=a.exportTypedArrayMethod,m=!u((function(){var e=new Uint8ClampedArray(2);return i(g,e,{length:1,0:3},1),3!==e[1]})),y=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new f(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));h("set",(function(e){p(this);var t=o(arguments.length>1?arguments[1]:void 0,1),r=c(e);if(m)return i(g,this,r,t);var n=this.length,a=s(r),u=0;if(a+t>n)throw new l("Wrong length");for(;u<a;)this[t+u]=r[u++]}),!m||y)},9639:(e,t,r)=>{"use strict";var n=r(3595),i=r(1691),a=i.aTypedArray,s=i.exportTypedArrayMethod,o=i.getTypedArrayConstructor;s("toReversed",(function(){return n(a(this),o(this))}))},9517:(e,t,r)=>{"use strict";var n=r(1691),i=r(4200),a=r(9841),s=r(9853),o=n.aTypedArray,c=n.getTypedArrayConstructor,u=n.exportTypedArrayMethod,l=i(n.TypedArrayPrototype.sort);u("toSorted",(function(e){void 0!==e&&a(e);var t=o(this),r=s(c(t),t);return l(r,e)}))},2029:(e,t,r)=>{"use strict";var n=r(5556),i=r(1691),a=r(949),s=r(9562),o=r(8870),c=i.aTypedArray,u=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,f=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();l("with",{with:function(e,t){var r=c(this),i=s(e),l=a(r)?o(t):+t;return n(r,u(r),i,l)}}.with,!f)},1431:(e,t,r)=>{"use strict";var n=r(9931),i=r(2816),a=r(5026),s=r(2368),o=r(2254).f,c=r(2308),u=r(846),l=r(5211),f=r(6769),d=r(9863),g=r(6622),p=r(3992),h=r(7289),m="DOMException",y=a("Error"),b=a(m),w=function(){u(this,v);var e=arguments.length,t=f(e<1?void 0:arguments[0]),r=f(e<2?void 0:arguments[1],"Error"),n=new b(t,r),i=new y(t);return i.name=m,o(n,"stack",s(1,g(i.stack,1))),l(n,this,w),n},v=w.prototype=b.prototype,x="stack"in new y(m),_="stack"in new b(1,2),A=b&&p&&Object.getOwnPropertyDescriptor(i,m),E=!(!A||A.writable&&A.configurable),k=x&&!E&&!_;n({global:!0,constructor:!0,forced:h||k},{DOMException:k?w:b});var S=a(m),T=S.prototype;if(T.constructor!==S)for(var I in h||o(T,"constructor",s(1,S)),d)if(c(d,I)){var R=d[I],j=R.s;c(S,j)||o(S,j,s(6,R.c))}},8755:(e,t,r)=>{"use strict";var n=r(2458),i=r(4200),a=r(7974),s=r(8907),o=URLSearchParams,c=o.prototype,u=i(c.append),l=i(c.delete),f=i(c.forEach),d=i([].push),g=new o("a=1&a=2&b=3");g.delete("a",1),g.delete("b",void 0),g+""!="a=2"&&n(c,"delete",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return l(this,e);var n=[];f(this,(function(e,t){d(n,{key:t,value:e})})),s(t,1);for(var i,o=a(e),c=a(r),g=0,p=0,h=!1,m=n.length;g<m;)i=n[g++],h||i.key===o?(h=!0,l(this,i.key)):p++;for(;p<m;)(i=n[p++]).key===o&&i.value===c||u(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},8645:(e,t,r)=>{"use strict";var n=r(2458),i=r(4200),a=r(7974),s=r(8907),o=URLSearchParams,c=o.prototype,u=i(c.getAll),l=i(c.has),f=new o("a=1");!f.has("a",2)&&f.has("a",void 0)||n(c,"has",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return l(this,e);var n=u(this,e);s(t,1);for(var i=a(r),o=0;o<n.length;)if(n[o++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},9786:(e,t,r)=>{"use strict";var n=r(3992),i=r(4200),a=r(7706),s=URLSearchParams.prototype,o=i(s.forEach);n&&!("size"in s)&&a(s,"size",{get:function(){var e=0;return o(this,(function(){e++})),e},configurable:!0,enumerable:!0})},5054:e=>{"use strict";e.exports=JSON.parse('{"revisions":{"local":["ryekyizAg","Hy1tD8ANb","S1kNNadHZ","Bk42MzXdW","HJ5MKKGhW","ryY8H0EWf","BJguWEHcbz","S1ebtZ3Uzz","BJXdcUXOG","SklYTwQOYf","S18hLi5tG","SJzIWmjKz","r1Pvd36nz","r1H3rgx1X","Syy800KkQ","SkwaU8NlX","yLciyvS5He","ekhOvNiTsF","ShjDMM87","LX20x6G8l","d8CIdomCW","d8IK4KCtVm","UhWEtK9gMh","TshBYj8anA","ggrr9C9pgV","IMMjiccGj","K9Esw2jiQ3","20210820184257_support_event_pages","20210919175209_add_image_sharing_options","20210928090443_add_unsplash","20211011114043_configure_engines","20211106103932_add_shein","20211111071410_add_lykdat","20211204124507_add_wildberries","20211213014048_add_lastengineaccesscheck","20211213191049_add_setcontextmenuevent","20220108063511_add_google_lens","20220321163741_add_clipboard_support","20220505174634_detect_alternative_image_sizes","20220516051842_update_search_mode_ids","20220516124148_open_images","20220814142801_configure_engines","20220924083846_add_lexica","20230415111029_add_theme_support","20230531103023_remove_search_engines","20230601115626_add_kagi","20230624145626_add_search_engines","20230716121432_add_freepik","20231009185955_remove_unsplash","20231102164602_add_icons8"],"sync":[]}}')}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return r[e].call(a.exports,a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var a=Object.create(null);i.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,i.d(a,s),a},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";i(7817);var e=i(651),t=i(1075);class r extends Error{constructor(e){super(e),this.name="TimeoutError"}}class n extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const a=e=>void 0===globalThis.DOMException?new n(e):new DOMException(e),s=e=>{const t=void 0===e.reason?a("This operation was aborted."):e.reason;return t instanceof Error?t:a(t)};var o,c=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};o=new WeakMap;const u=class{constructor(){o.set(this,[])}enqueue(e,t){const r={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&c(this,o,"f")[this.size-1].priority>=t.priority)return void c(this,o,"f").push(r);const n=function(e,t,r){let n=0,i=e.length;for(;i>0;){const r=Math.trunc(i/2);let s=n+r;a=e[s],t.priority-a.priority<=0?(n=++s,i-=r+1):i=r}var a;return n}(c(this,o,"f"),r);c(this,o,"f").splice(n,0,r)}dequeue(){const e=c(this,o,"f").shift();return null==e?void 0:e.run}filter(e){return c(this,o,"f").filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return c(this,o,"f").length}};var l,f,d,g,p,h,m,y,b,w,v,x,_,A,E,k,S,T,I,R,j,M,O,P,C,L,U=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},B=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class N extends Error{}f=new WeakMap,d=new WeakMap,g=new WeakMap,p=new WeakMap,h=new WeakMap,m=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,v=new WeakMap,x=new WeakMap,_=new WeakMap,A=new WeakMap,E=new WeakMap,l=new WeakSet,k=function(){return B(this,d,"f")||B(this,g,"f")<B(this,p,"f")},S=function(){return B(this,x,"f")<B(this,_,"f")},T=function(){var e;U(this,x,(e=B(this,x,"f"),--e),"f"),B(this,l,"m",j).call(this),this.emit("next")},I=function(){B(this,l,"m",O).call(this),B(this,l,"m",M).call(this),U(this,b,void 0,"f")},R=function(){const e=Date.now();if(void 0===B(this,y,"f")){const t=B(this,m,"f")-e;if(!(t<0))return void 0===B(this,b,"f")&&U(this,b,setTimeout((()=>{B(this,l,"m",I).call(this)}),t),"f"),!0;U(this,g,B(this,f,"f")?B(this,x,"f"):0,"f")}return!1},j=function(){if(0===B(this,w,"f").size)return B(this,y,"f")&&clearInterval(B(this,y,"f")),U(this,y,void 0,"f"),this.emit("empty"),0===B(this,x,"f")&&this.emit("idle"),!1;if(!B(this,A,"f")){const e=!B(this,l,"a",R);if(B(this,l,"a",k)&&B(this,l,"a",S)){const t=B(this,w,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&B(this,l,"m",M).call(this),!0)}}return!1},M=function(){B(this,d,"f")||void 0!==B(this,y,"f")||(U(this,y,setInterval((()=>{B(this,l,"m",O).call(this)}),B(this,h,"f")),"f"),U(this,m,Date.now()+B(this,h,"f"),"f"))},O=function(){0===B(this,g,"f")&&0===B(this,x,"f")&&B(this,y,"f")&&(clearInterval(B(this,y,"f")),U(this,y,void 0,"f")),U(this,g,B(this,f,"f")?B(this,x,"f"):0,"f"),B(this,l,"m",P).call(this)},P=function(){for(;B(this,l,"m",j).call(this););},C=async function(e){return new Promise(((t,r)=>{e.addEventListener("abort",(()=>{r(new N("The task was aborted."))}),{once:!0})}))},L=async function(e,t){return new Promise((r=>{const n=()=>{t&&!t()||(this.off(e,n),r())};this.on(e,n)}))};const D=class extends t{constructor(e){var t,r,n,i;if(super(),l.add(this),f.set(this,void 0),d.set(this,void 0),g.set(this,0),p.set(this,void 0),h.set(this,void 0),m.set(this,0),y.set(this,void 0),b.set(this,void 0),w.set(this,void 0),v.set(this,void 0),x.set(this,0),_.set(this,void 0),A.set(this,void 0),E.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:u,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(n=e.interval)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);U(this,f,e.carryoverConcurrencyCount,"f"),U(this,d,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),U(this,p,e.intervalCap,"f"),U(this,h,e.interval,"f"),U(this,w,new e.queueClass,"f"),U(this,v,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,U(this,E,!0===e.throwOnTimeout,"f"),U(this,A,!1===e.autoStart,"f")}get concurrency(){return B(this,_,"f")}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);U(this,_,e,"f"),B(this,l,"m",P).call(this)}async add(e,t={}){return t={timeout:this.timeout,throwOnTimeout:B(this,E,"f"),...t},new Promise(((n,i)=>{B(this,w,"f").enqueue((async()=>{var a,o,c;U(this,x,(o=B(this,x,"f"),++o),"f"),U(this,g,(c=B(this,g,"f"),++c),"f");try{if(null===(a=t.signal)||void 0===a?void 0:a.aborted)throw new N("The task was aborted.");let i=e({signal:t.signal});t.timeout&&(i=function(e,t,n,i){let a;const o=new Promise(((o,c)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((i={customTimers:{setTimeout,clearTimeout},...i}).signal){const{signal:e}=i;e.aborted&&c(s(e)),e.addEventListener("abort",(()=>{c(s(e))}))}a=i.customTimers.setTimeout.call(void 0,(()=>{const i=n instanceof Error?n:new r(`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),c(i)}),t),(async()=>{try{o(await e)}catch(e){c(e)}finally{i.customTimers.clearTimeout.call(void 0,a)}})()}else o(e)}));return o.clear=()=>{clearTimeout(a),a=void 0},o}(Promise.resolve(i),t.timeout)),t.signal&&(i=Promise.race([i,B(this,l,"m",C).call(this,t.signal)]));const o=await i;n(o),this.emit("completed",o)}catch(e){if(e instanceof r&&!t.throwOnTimeout)return void n();i(e),this.emit("error",e)}finally{B(this,l,"m",T).call(this)}}),t),this.emit("add"),B(this,l,"m",j).call(this)}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return B(this,A,"f")?(U(this,A,!1,"f"),B(this,l,"m",P).call(this),this):this}pause(){U(this,A,!0,"f")}clear(){U(this,w,new(B(this,v,"f")),"f")}async onEmpty(){0!==B(this,w,"f").size&&await B(this,l,"m",L).call(this,"empty")}async onSizeLessThan(e){B(this,w,"f").size<e||await B(this,l,"m",L).call(this,"next",(()=>B(this,w,"f").size<e))}async onIdle(){0===B(this,x,"f")&&0===B(this,w,"f").size||await B(this,l,"m",L).call(this,"idle")}get size(){return B(this,w,"f").size}sizeBy(e){return B(this,w,"f").filter(e).length}get pending(){return B(this,x,"f")}get isPaused(){return B(this,A,"f")}},z=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},F=function(e,t){return e===t||e!=e&&t!=t},W="object"==typeof global&&global&&global.Object===Object&&global;var q="object"==typeof self&&self&&self.Object===Object&&self;const $=W||q||Function("return this")(),V=$.Symbol;var H=Object.prototype,Z=H.hasOwnProperty,G=H.toString,K=V?V.toStringTag:void 0;var Y=Object.prototype.toString;var X=V?V.toStringTag:void 0;const Q=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":X&&X in Object(e)?function(e){var t=Z.call(e,K),r=e[K];try{e[K]=void 0;var n=!0}catch(e){}var i=G.call(e);return n&&(t?e[K]=r:delete e[K]),i}(e):function(e){return Y.call(e)}(e)},J=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ee=function(e){if(!J(e))return!1;var t=Q(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},te=function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!ee(e)};var re=/^(?:0|[1-9]\d*)$/;const ne=function(e,t,r){if(!J(r))return!1;var n=typeof t;return!!("number"==n?te(r)&&function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&re.test(e))&&e>-1&&e%1==0&&e<t}(t,r.length):"string"==n&&t in r)&&F(r[t],e)};var ie=/\s/;var ae=/^\s+/;const se=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}(e)+1).replace(ae,""):e},oe=function(e){return null!=e&&"object"==typeof e};var ce=/^[-+]0x[0-9a-f]+$/i,ue=/^0b[01]+$/i,le=/^0o[0-7]+$/i,fe=parseInt;const de=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||oe(e)&&"[object Symbol]"==Q(e)}(e))return NaN;if(J(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=J(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=se(e);var r=ue.test(e);return r||le.test(e)?fe(e.slice(2),r?2:8):ce.test(e)?NaN:+e};const ge=function(e){var t=function(e){return e?1/0===(e=de(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),r=t%1;return t==t?r?t-r:t:0},pe=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&ne(e,t,r)?(t=0,r=n):(t=null==t?0:ge(t),r=void 0===r?n:ge(r)),function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}(e,t,r)):[]},he=function(e){return e!=e},me=function(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,he,r)};var ye=Math.max;const be=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ge(r);return i<0&&(i=ye(n+i,0)),me(e,t,i)};var we=i(1068),ve=i(3145),xe=i(2667);i(8755),i(8645),i(9786),i(9291);const _e=$["__core-js_shared__"];var Ae,Ee=(Ae=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+Ae:"";var ke=Function.prototype.toString;var Se=/^\[object .+?Constructor\]$/,Te=Function.prototype,Ie=Object.prototype,Re=Te.toString,je=Ie.hasOwnProperty,Me=RegExp("^"+Re.call(je).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Oe=function(e){return!(!J(e)||(t=e,Ee&&Ee in t))&&(ee(e)?Me:Se).test(function(e){if(null!=e){try{return ke.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t},Pe=function(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Oe(r)?r:void 0},Ce=Pe(Object,"create");var Le=Object.prototype.hasOwnProperty;var Ue=Object.prototype.hasOwnProperty;function Be(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Be.prototype.clear=function(){this.__data__=Ce?Ce(null):{},this.size=0},Be.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Be.prototype.get=function(e){var t=this.__data__;if(Ce){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Le.call(t,e)?t[e]:void 0},Be.prototype.has=function(e){var t=this.__data__;return Ce?void 0!==t[e]:Ue.call(t,e)},Be.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ce&&void 0===t?"__lodash_hash_undefined__":t,this};const Ne=Be,De=function(e,t){for(var r=e.length;r--;)if(F(e[r][0],t))return r;return-1};var ze=Array.prototype.splice;function Fe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fe.prototype.clear=function(){this.__data__=[],this.size=0},Fe.prototype.delete=function(e){var t=this.__data__,r=De(t,e);return!(r<0||(r==t.length-1?t.pop():ze.call(t,r,1),--this.size,0))},Fe.prototype.get=function(e){var t=this.__data__,r=De(t,e);return r<0?void 0:t[r][1]},Fe.prototype.has=function(e){return De(this.__data__,e)>-1},Fe.prototype.set=function(e,t){var r=this.__data__,n=De(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};const We=Fe,qe=Pe($,"Map"),$e=function(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map};function Ve(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ve.prototype.clear=function(){this.size=0,this.__data__={hash:new Ne,map:new(qe||We),string:new Ne}},Ve.prototype.delete=function(e){var t=$e(this,e).delete(e);return this.size-=t?1:0,t},Ve.prototype.get=function(e){return $e(this,e).get(e)},Ve.prototype.has=function(e){return $e(this,e).has(e)},Ve.prototype.set=function(e,t){var r=$e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};const He=Ve;function Ze(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new He;++t<r;)this.add(e[t])}Ze.prototype.add=Ze.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ze.prototype.has=function(e){return this.__data__.has(e)};const Ge=Ze,Ke=function(e,t){return!(null==e||!e.length)&&me(e,t,0)>-1},Ye=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1},Xe=function(e,t){return e.has(t)},Qe=function(e,t,r,n){var i,a=-1,s=Ke,o=!0,c=e.length,u=[],l=t.length;if(!c)return u;r&&(t=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}(t,(i=r,function(e){return i(e)}))),n?(s=Ye,o=!1):t.length>=200&&(s=Xe,o=!1,t=new Ge(t));e:for(;++a<c;){var f=e[a],d=null==r?f:r(f);if(f=n||0!==f?f:0,o&&d==d){for(var g=l;g--;)if(t[g]===d)continue e;u.push(f)}else s(t,d,n)||u.push(f)}return u},Je=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},et=function(e){return oe(e)&&"[object Arguments]"==Q(e)};var tt=Object.prototype,rt=tt.hasOwnProperty,nt=tt.propertyIsEnumerable;const it=et(function(){return arguments}())?et:function(e){return oe(e)&&rt.call(e,"callee")&&!nt.call(e,"callee")},at=Array.isArray;var st=V?V.isConcatSpreadable:void 0;const ot=function(e){return at(e)||it(e)||!!(st&&e&&e[st])},ct=function e(t,r,n,i,a){var s=-1,o=t.length;for(n||(n=ot),a||(a=[]);++s<o;){var c=t[s];r>0&&n(c)?r>1?e(c,r-1,n,i,a):Je(a,c):i||(a[a.length]=c)}return a},ut=function(e){return e};var lt=Math.max;const ft=function(){try{var e=Pe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),dt=ft?function(e,t){return ft(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:ut;var gt=Date.now;const pt=(ht=dt,mt=0,yt=0,function(){var e=gt(),t=16-(e-yt);if(yt=e,t>0){if(++mt>=800)return arguments[0]}else mt=0;return ht.apply(void 0,arguments)});var ht,mt,yt;const bt=function(e){return oe(e)&&te(e)};var wt=function(e,t){return pt(function(e,t,r){return t=lt(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=lt(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,o)}}(e,void 0,ut),e+"")}((function(e,t){return bt(e)?Qe(e,ct(t,1,bt,!0)):[]}));const vt=wt;i(2783);var xt=i(5851);function _t(e){return new DataView(e.buffer,e.byteOffset)}i(9350);const At={len:1,get:(e,t)=>_t(e).getUint8(t),put:(e,t,r)=>(_t(e).setUint8(t,r),t+1)},Et={len:2,get:(e,t)=>_t(e).getUint16(t,!0),put:(e,t,r)=>(_t(e).setUint16(t,r,!0),t+2)},kt={len:2,get:(e,t)=>_t(e).getUint16(t),put:(e,t,r)=>(_t(e).setUint16(t,r),t+2)},St={len:4,get:(e,t)=>_t(e).getUint32(t,!0),put:(e,t,r)=>(_t(e).setUint32(t,r,!0),t+4)},Tt={len:4,get:(e,t)=>_t(e).getUint32(t),put:(e,t,r)=>(_t(e).setUint32(t,r),t+4)},It={len:4,get:(e,t)=>_t(e).getInt32(t),put:(e,t,r)=>(_t(e).setInt32(t,r),t+4)},Rt={len:8,get:(e,t)=>_t(e).getBigUint64(t,!0),put:(e,t,r)=>(_t(e).setBigUint64(t,r,!0),t+8)};class jt{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return xt.Buffer.from(e).toString(this.encoding,t,t+this.len)}}class Mt{constructor(e){this.len=e}static decode(e,t,r){let n="";for(let i=t;i<r;++i)n+=Mt.codePointToString(Mt.singleByteDecoder(e[i]));return n}static inRange(e,t,r){return t<=e&&e<=r}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}static singleByteDecoder(e){if(Mt.inRange(e,0,127))return e;const t=Mt.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return Mt.decode(e,t,t+this.len)}}Mt.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255];class Ot extends Error{constructor(){super("End-Of-Stream")}}class Pt{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e||{}}async readToken(e,t=this.position){const r=xt.Buffer.alloc(e.len);if(await this.readBuffer(r,{position:t})<e.len)throw new Ot;return e.get(r,0)}async peekToken(e,t=this.position){const r=xt.Buffer.alloc(e.len);if(await this.peekBuffer(r,{position:t})<e.len)throw new Ot;return e.get(r,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new Ot;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new Ot;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}class Ct extends Pt{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}const r=await this.peekBuffer(e,t);return this.position+=r,r}async peekBuffer(e,t){const r=this.normalizeOptions(e,t),n=Math.min(this.uint8Array.length-r.position,r.length);if(!r.mayBeLess&&n<r.length)throw new Ot;return e.set(this.uint8Array.subarray(r.position,r.position+n),r.offset),n}async close(){}}const Lt={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4};function Ut(e,t,r){r={offset:0,...r};for(const[n,i]of t.entries())if(r.mask){if(i!==(r.mask[n]&e[n+r.offset]))return!1}else if(i!==e[n+r.offset])return!1;return!0}async function Bt(e){try{return(new Nt).parse(e)}catch(e){if(!(e instanceof Ot))throw e}}class Nt{check(e,t){return Ut(this.buffer,e,t)}checkString(e,t){return this.check((r=e,[...r].map((e=>e.charCodeAt(0)))),t);var r}async parse(e){if(this.buffer=xt.Buffer.alloc(4100),void 0===e.fileInfo.size&&(e.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=e,await e.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await e.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(e);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await e.ignore(6);const t=await e.readToken(Lt);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),Bt(e))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(this.buffer,{length:30});const r={compressedSize:this.buffer.readUInt32LE(18),uncompressedSize:this.buffer.readUInt32LE(22),filenameLength:this.buffer.readUInt16LE(26),extraFieldLength:this.buffer.readUInt16LE(28)};if(r.filename=await e.readToken(new jt(r.filenameLength,"utf-8")),await e.ignore(r.extraFieldLength),"META-INF/mozilla.rsa"===r.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(r.filename.endsWith(".rels")||r.filename.endsWith(".xml"))switch(r.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}if(r.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(r.filename.startsWith("3D/")&&r.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===r.filename&&r.compressedSize===r.uncompressedSize){let n=await e.readToken(new jt(r.compressedSize,"utf-8"));switch(n=n.trim(),n){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}}if(0===r.compressedSize){let i=-1;for(;i<0&&e.position<e.fileInfo.size;)await e.peekBuffer(this.buffer,{mayBeLess:!0}),i=this.buffer.indexOf("504B0304",0,"hex"),await e.ignore(i>=0?i:this.buffer.length)}else await e.ignore(r.compressedSize)}}catch(a){if(!(a instanceof Ot))throw a}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await e.ignore(28);const s=xt.Buffer.alloc(8);return await e.readBuffer(s),Ut(s,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:Ut(s,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:Ut(s,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:Ut(s,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:Ut(s,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:Ut(s,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&0!=(96&this.buffer[8])){const o=this.buffer.toString("binary",8,12).replace("\0"," ").trim();switch(o){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return o.startsWith("3g")?o.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{await e.ignore(1350);const c=10485760,u=xt.Buffer.alloc(Math.min(c,e.fileInfo.size));if(await e.readBuffer(u,{mayBeLess:!0}),u.includes(xt.Buffer.from("AIPrivateData")))return{ext:"ai",mime:"application/postscript"}}catch(l){if(!(l instanceof Ot))throw l}return{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){const f=await this.readTiffHeader(!1);if(f)return f}if(this.check([77,77])){const d=await this.readTiffHeader(!0);if(d)return d}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function g(){const t=await e.peekNumber(At);let r=128,n=0;for(;0==(t&r)&&0!==r;)++n,r>>=1;const i=xt.Buffer.alloc(n+1);return await e.readBuffer(i),i}async function p(){const e=await g(),t=await g();t[0]^=128>>t.length-1;const r=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-r,r)}}async function h(t){for(;t>0;){const r=await p();if(17026===r.id)return(await e.readToken(new jt(r.len,"utf-8"))).replace(/\00.*$/g,"");await e.ignore(r.len),--t}}const m=await p();switch(await h(m.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){const y=this.buffer.toString("binary",2,6);if(y.match("^d*")&&y>=1e3&&y<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return await e.ignore(8),"debian-binary"===await e.readToken(new jt(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("**ACE",{offset:7})&&(await e.peekBuffer(this.buffer,{length:14,mayBeLess:!0}),this.checkString("**",{offset:12})))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.check([137,80,78,71,13,10,26,10])){async function b(){return{length:await e.readToken(It),type:await e.readToken(new jt(4,"binary"))}}await e.ignore(8);do{const w=await b();if(w.length<0)return;switch(w.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(w.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function v(){const t=xt.Buffer.alloc(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(Rt))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const x=await v();let _=x.size-24;if(Ut(x.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const A=xt.Buffer.alloc(16);if(_-=await e.readBuffer(A),Ut(A,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(Ut(A,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(_)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new jt(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(this.buffer,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){const E=this.buffer.readUInt32LE(12);if(E>12&&this.buffer.length>=E+16)try{const k=this.buffer.slice(16,E+16).toString();if(JSON.parse(k).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(this.buffer,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),function(e,t=0){const r=Number.parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(r))return!1;let n=256;for(let r=t;r<t+148;r++)n+=e[r];for(let r=t+156;r<t+512;r++)n+=e[r];return r===n}(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(e){const t=await this.tokenizer.readToken(e?kt:Et);switch(this.tokenizer.ignore(10),t){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(e){const t=await this.tokenizer.readToken(e?kt:Et);for(let r=0;r<t;++r){const t=await this.readTiffTag(e);if(t)return t}}async readTiffHeader(e){const t=(e?kt:Et).get(this.buffer,2),r=(e?Tt:St).get(this.buffer,4);if(42===t){if(r>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}return await this.tokenizer.ignore(r),await this.readTiffIFD(e)??{ext:"tif",mime:"image/tiff"}}if(43===t)return{ext:"tif",mime:"image/tiff"}}}new Set(["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc"]),new Set(["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/x-parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile"]),new Set(["width","height","density"]);var Dt=i(5221),zt=i(3145);const Ft=["engines","disabledEngines","showInContextMenu","searchAllEnginesContextMenu","searchAllEnginesAction","tabInBackgound","localGoogle","imgFullParse","searchModeAction","searchModeContextMenu","bypassImageHostBlocking","shareImageContextMenu","convertSharedImage","autoPasteAction","confirmPaste","detectAltImageDimension","viewImageContextMenu","viewImageUseViewer","appTheme","showContribPage","showEngineIcons","pinActionToolbarViewImage","pinActionToolbarShareImage","pinActionToolbarOptions","pinActionToolbarContribute"],Wt=zt.runtime.getURL("/src/search/index.html")+"?id={id}",qt={google:{url:{target:"https://www.google.com/searchbyimage?sbisrc=cr_1_5_2&image_url={imgUrl}"},image:{target:Wt,isTaskId:!0}},bing:{url:{target:"https://www.bing.com/images/search?q=imgurl:{imgUrl}&view=detailv2&iss=sbi&FORM=IRSBIQ&redirecturl=https%3A%2F%2Fwww.bing.com%2Fimages%2Fdiscover%3Fform%3DHDRSC2#enterInsights"},image:{target:"https://www.bing.com/",isExec:!0}},yandex:{url:{target:"https://yandex.com/images/search?url={imgUrl}&rpt=imageview"},image:{target:"https://yandex.com/images/",isExec:!0}},baidu:{url:{target:"https://www.baidu.com/",isExec:!0},image:{target:"https://www.baidu.com/",isExec:!0}},tineye:{url:{target:"https://www.tineye.com/search/?&url={imgUrl}"},image:{target:"https://www.tineye.com/",isExec:!0}},sogou:{url:{target:"https://pic.sogou.com/ris?query={imgUrl}&flag=1&drag=0"},image:{target:"https://pic.sogou.com/",isExec:!0}},karmaDecay:{url:{target:"http://karmadecay.com/search?q={imgUrl}"},image:{target:"http://karmadecay.com/",isExec:!0}},whatanime:{url:{target:"https://trace.moe/?url={imgUrl}"},image:{target:"https://trace.moe/",isExec:!0}},saucenao:{url:{target:"https://saucenao.com/",isExec:!0},image:{target:"https://saucenao.com/",isExec:!0}},iqdb:{url:{target:"https://iqdb.org/?url={imgUrl}"},image:{target:"https://iqdb.org/",isExec:!0}},ascii2d:{url:{target:"https://ascii2d.net/search/url/{imgUrl}"},image:{target:"https://ascii2d.net/",isExec:!0}},getty:{image:{target:"https://www.gettyimages.com/",isExec:!0}},istock:{image:{target:"https://www.istockphoto.com/",isExec:!0}},shutterstock:{image:{target:"https://www.shutterstock.com/images",isExec:!0}},adobestock:{image:{target:"https://stock.adobe.com/",isExec:!0}},depositphotos:{image:{target:"https://depositphotos.com/",isExec:!0}},pinterest:{image:{target:Wt,isTaskId:!0}},qihoo:{image:{target:"https://st.so.com/",isExec:!0}},taobao:{image:{target:"https://www.taobao.com/",isExec:!0}},alibabaChina:{image:{target:"https://www.1688.com/",isExec:!0}},dreamstime:{image:{target:"https://www.dreamstime.com/",isExec:!0}},alamy:{image:{target:"https://www.alamy.com/",isExec:!0}},"123rf":{image:{target:"https://www.123rf.com/",isExec:!0}},esearch:{image:{target:"https://euipo.europa.eu/eSearch/",isExec:!0}},tmview:{image:{target:"https://www.tmdn.org/tmview/#/tmview",isExec:!0}},branddb:{image:{target:"https://branddb.wipo.int/en/similarlogo",isExec:!0}},madridMonitor:{image:{target:"https://www3.wipo.int/madrid/monitor/en/",isExec:!0}},auTrademark:{image:{target:"https://search.ipaustralia.gov.au/trademarks/search/advanced",isExec:!0}},auDesign:{image:{target:"https://search.ipaustralia.gov.au/designs/search/advanced",isExec:!0}},nzTrademark:{image:{target:"https://app.iponz.govt.nz/app/TradeMarkCheck",isExec:!0}},jpDesign:{image:{target:"https://www.graphic-image.inpit.go.jp/",isExec:!0}},pimeyes:{image:{target:"https://pimeyes.com/en",isExec:!0}},stocksy:{image:{target:"https://www.stocksy.com/",isExec:!0}},pond5:{image:{target:"https://www.pond5.com/stock-images/",isExec:!0}},pixta:{image:{target:"https://www.pixtastock.com/",isExec:!0}},ikea:{image:{target:"https://www.ikea.com/",isExec:!0}},repostSleuth:{url:{target:"https://repostsleuth.com/search?targetImageMatch=60&filterSameAuthor=false",isExec:!0},image:{target:"https://repostsleuth.com/search?targetImageMatch=60&filterSameAuthor=false",isExec:!0}},shein:{image:{target:"https://m.shein.com/presearch",isExec:!0}},lykdat:{image:{target:"https://lykdat.com/",isExec:!0}},wildberries:{image:{target:"https://www.wildberries.ru/",isExec:!0}},googleLens:{url:{target:"https://www.google.com/imghp",isExec:!0},image:{target:"https://www.google.com/imghp",isExec:!0}},lexica:{url:{target:"https://lexica.art/?q={imgUrl}"},image:{target:"https://lexica.art/",isExec:!0}},kagi:{url:{target:"https://kagi.com/images",isExec:!0},image:{target:"https://kagi.com/images",isExec:!0}},haveibeentrained:{url:{target:"https://haveibeentrained.com/?url={imgUrl}"},image:{target:"https://haveibeentrained.com/",isExec:!0}},enterpix:{image:{target:"https://enterpix.app/",isExec:!0}},immerse:{url:{target:"https://www.immerse.zone/image?url={imgUrl}"},image:{target:"https://www.immerse.zone/",isExec:!0}},clipretrieval:{image:{target:"https://knn.laion.ai/",isExec:!0}},freepik:{image:{target:"https://www.freepik.com/search",isExec:!0}},icons8:{image:{target:"https://icons8.com/",isExec:!0}}},$t=["baidu","sogou","qihoo","taobao","alibabaChina"],Vt={branddb:"wipo",madridMonitor:"wipo"},Ht={getty:["dark"],istock:["dark"],depositphotos:["dark"],alamy:["dark"],"123rf":["dark"],nzTrademark:["dark"],stocksy:["dark"],lykdat:["dark"],lexica:["dark"],jpDesign:["dark"],pimeyes:["dark"],pond5:["dark"],saucenao:["dark"],ascii2d:["dark"],tmview:["dark"],pixta:["dark"],immerse:["dark"],clipretrieval:["dark"],freepik:["dark"]},Zt=["iqdb","karmaDecay","tineye","whatanime","repostSleuth"],Gt={"image/aces":["exr"],"image/apng":["apng"],"image/avci":["avci"],"image/avcs":["avcs"],"image/avif":["avif"],"image/bmp":["bmp","dib"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/dpx":["dpx"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpg","jpeg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm","jpgm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/prs.btif":["btif","btf"],"image/prs.pti":["pti"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/webp":["webp"],"image/wmf":["wmf"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["bmp"],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"]};Object.assign(Gt,{"image/jxl":["jxl"]}),Object.assign({"image/aces":"","image/apng":"APNG","image/avci":"","image/avcs":"","image/avif":"AVIF","image/bmp":"BMP","image/cgm":"","image/dicom-rle":"","image/emf":"","image/fits":"","image/g3fax":"","image/gif":"GIF","image/heic":"HEIC","image/heic-sequence":"","image/heif":"HEIF","image/heif-sequence":"","image/hej2k":"","image/hsj2":"","image/ief":"","image/jls":"","image/jp2":"JP2","image/jpeg":"JPEG","image/jph":"","image/jphc":"","image/jpm":"","image/jpx":"JPX","image/jxr":"","image/jxra":"","image/jxrs":"","image/jxs":"","image/jxsc":"","image/jxsi":"","image/jxss":"","image/ktx":"","image/ktx2":"","image/png":"PNG","image/prs.btif":"","image/prs.pti":"","image/sgi":"","image/svg+xml":"SVG","image/t38":"","image/tiff":"TIFF","image/tiff-fx":"","image/vnd.adobe.photoshop":"PSD","image/vnd.airzip.accelerator.azv":"","image/vnd.dece.graphic":"","image/vnd.djvu":"","image/vnd.dvb.subtitle":"","image/vnd.dwg":"","image/vnd.dxf":"","image/vnd.fastbidsheet":"","image/vnd.fpx":"","image/vnd.fst":"","image/vnd.fujixerox.edmics-mmr":"","image/vnd.fujixerox.edmics-rlc":"","image/vnd.microsoft.icon":"ICO","image/vnd.ms-dds":"","image/vnd.ms-modi":"","image/vnd.ms-photo":"","image/vnd.net-fpx":"","image/vnd.pco.b16":"","image/vnd.tencent.tap":"","image/vnd.valve.source.texture":"","image/vnd.wap.wbmp":"","image/vnd.xiff":"","image/vnd.zbrush.pcx":"","image/webp":"WebP","image/wmf":"","image/x-3ds":"","image/x-cmu-raster":"","image/x-cmx":"","image/x-freehand":"","image/x-icon":"ICO","image/x-jng":"","image/x-mrsid-image":"","image/x-ms-bmp":"","image/x-pcx":"","image/x-pict":"","image/x-portable-anymap":"","image/x-portable-bitmap":"","image/x-portable-graymap":"","image/x-portable-pixmap":"","image/x-rgb":"","image/x-tga":"","image/x-xbitmap":"XBM","image/x-xpixmap":"","image/x-xwindowdump":""},{"image/jxl":"JPEG XL"});const Kt=["google","bing","yandex","baidu","tineye","whatanime","saucenao","ascii2d","adobestock","depositphotos","pinterest","qihoo","alibabaChina","dreamstime","pimeyes","pond5","ikea","shein","lykdat","googleLens","lexica","haveibeentrained","enterpix","immerse","clipretrieval","icons8"],Yt=["bing","yandex","whatanime","adobestock","alibabaChina","dreamstime","pond5","lexica","enterpix"],Xt="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",Qt="Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Mobile Safari/537.36",Jt="Google Chrome 110.0.5481.78 (Official) Windows";var er=i(3145);async function tr(e){return void 0===e&&(e=await we.ZP.get(["engines","disabledEngines"])),vt(e.engines,e.disabledEngines)}async function rr(e,t,r,n){return["selectImage","capture","browse"].includes(r)||n||!e.imageUrl||!await nr(t,{bypassBlocking:"url"!==r})}async function nr(e,{bypassBlocking:t=!0}={}){let r;r=Array.isArray(e)?e:"allEngines"===e?await tr():[e];const{bypassImageHostBlocking:n}=await we.ZP.get("bypassImageHostBlocking");for(const e of r)if(!qt[e].url||t&&n&&$t.includes(e))return!1;return!0}async function ir(e){const t={sessionOrigin:"",sessionType:"",sourceTabId:-1,sourceTabIndex:-1,sourceFrameId:-1,closeSourceTab:!1,searchMode:"",engineGroup:"",engines:[],options:{}};if(t.options=await we.ZP.get(Ft),e.options&&(Object.assign(t.options,e.options),delete e.options),e.engine){if("allEngines"===e.engine){const e=await tr(t.options);t.engineGroup="allEngines",t.engines=e}else t.engines.push(e.engine);delete e.engine}return Object.assign(t,e),"search"!==t.sessionType||t.searchMode||(t.searchMode="action"===t.sessionOrigin?t.options.searchModeAction:t.options.searchModeContextMenu),t}async function ar({message:e,messageId:t,title:r,type:n="info",timeout:i=0}={}){if(r||(r=(0,xe.Q)("extensionName")),t&&(e=(0,xe.Q)(t)),"safari"===Dt.W9)return er.runtime.sendNativeMessage("application.id",{id:"notification",message:e});{const t=await er.notifications.create(`sbi-notification-${n}`,{type:"basic",title:r,message:e,iconUrl:"/src/assets/icons/app/icon-64.png"});return i&&window.setTimeout((()=>{er.notifications.clear(t)}),i),t}}function sr(e,{name:t,type:r}={}){const n=r||e.type,i=function({name:e,type:t}={}){if(e||(e="image"),t){const r=function(e){const t=Gt[e];return t?t[0]:null}(t);if(r){const n=(0,xe.Ef)(e);n?fr(n)!==t&&(e=e.replace(new RegExp(`${n}$`,"i"),r)):e=`${e}.${r}`}}return e}({name:t||e.name,type:n});return e.name!==i||e.type!==n?new File([e],i,{type:n}):e}async function or({blob:e,dataUrl:t,name:r}={}){e||(e=(0,xe.kD)(t));const n=await async function(e,{name:t}={}){if(!async function(e){if(e){if(e.size<=314572800)return!0;console.log(`File too large (${e.size} bytes)`)}return!1}(e))return;const r=await(0,xe.Hp)(e.slice(0,4100)).catch((e=>null));let n;if(r&&({mime:n}=await async function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Uint8Array?e:new Uint8Array(e);if(t?.length>1)return Bt(new Ct(t,void 0))}(r)||{}),n){if(dr(n))return sr(e,{type:n,name:t})}else if(dr(e.type))return sr(e,{name:t})}(e,{name:r});if(n)return n}async function cr(e){const t=await(0,xe.fL)(e);if(t)return{imageDataUrl:t,imageFilename:e.name,imageType:e.type,imageSize:e.size}}function ur(e,t,{maxDimension:r=1/0}={}){let n,i;return e>r||t>r?(e===t&&(n=i=r),e>t&&(n=r,i=t/e*r),e<t&&(n=e/t*r,i=r)):(n=e,i=t),{width:n,height:i}}function lr({url:e,blob:t,query:r=!1}={}){return new Promise((n=>{if(r){const t=document.images;for(let r=0;r<t.length;r++){const i=t[r];if(i?.currentSrc===e){if(!i.complete||!i.naturalWidth)break;n(i)}}}if(e&&e.startsWith("data:")&&e.length>(["firefox","safari"].includes(Dt.W9)?31457280:1/0))try{t=(0,xe.kD)(e)}catch{}function i(r){t&&URL.revokeObjectURL(e),r?n(r):n()}t&&(e=URL.createObjectURL(t));const a=new Image;a.onload=()=>{i(a)},a.onerror=()=>{i()},a.onabort=()=>{i()},a.src=e}))}function fr(e){for(const[t,r]of Object.entries(Gt))if(r.includes(e))return t;return null}function dr(e){return!!Gt.hasOwnProperty(e)}function gr(e,{credentials:t=!1,token:r=""}={}){return new Promise((n=>{const i=function(){try{return new content.XMLHttpRequest}catch(e){return new XMLHttpRequest}}();i.open("GET",e),i.timeout=12e5,i.responseType="blob",i.withCredentials=t,r&&i.setRequestHeader("Accept",r),i.onload=()=>{n(i.response)},i.onerror=()=>{n()},i.onabort=()=>{n()},i.ontimeout=()=>{n()},i.send()}))}async function pr({tabId:e,frameId:t=0,module:r,insert:n=!1}={}){try{const[i]=await er.tabs.executeScript(e,{frameId:t,runAt:"document_start",code:`typeof ${r}Module !== 'undefined'`});if(!i&&n&&await er.tabs.executeScript(e,{frameId:t,runAt:"document_start",file:`/src/${r}/script.js`}),i||n)return!0}catch(e){}return!1}async function hr({activeTab:e=!1}={}){const t=[];if(e){const e=await(0,xe.fr)();e&&t.push(e)}else t.push(...await er.tabs.query({url:["http://*/*","https://*/*"],windowType:"normal"}));for(const e of t)er.tabs.executeScript(e.id,{allFrames:!0,runAt:"document_start",file:"/src/base/script.js"})}function mr(e,{variant:t=""}={}){let r=e=Vt[e]||e;return t&&Ht[e]?.includes(t)&&(r+=`-${t}`),Zt.includes(e)?{16:`src/assets/icons/engines/${r}-16.png`,32:`src/assets/icons/engines/${r}-32.png`}:{16:`src/assets/icons/engines/${r}.svg`}}function yr(e,t){if("image/webp"===e){if(Kt.includes(t))return!0}else{if("image/avif"!==e)return!0;if(Yt.includes(t))return!0}}function br(e){if("image"===e.mediaType&&function(e,{allowDataUrl:t=!1}={}){try{if(t&&e.startsWith("data:"))return!0;if(e.length<=2048&&/^https?:$/i.test(new URL(e).protocol))return!0}catch(e){}}(e.srcUrl,{allowDataUrl:!0}))return e.srcUrl}async function wr(e,{session:t,mustDownloadUrl:r=!1}={}){let n;if(e.startsWith("data:")){const t=await or({dataUrl:e});if(t){const e=await cr(t);e&&(n=e)}}else{const{name:i,type:a}=function(e){const{name:t,ext:r}=(0,xe.xG)(e);return{name:t,ext:r,type:fr(r)}}(e);if(r=r||"share"===t.sessionType||"view"===t.sessionType&&t.options.viewImageUseViewer||"search"===t.sessionType&&("selectImage"===t.searchMode||!await nr(t.engines)||t.engines.some((e=>!yr(a,e))))){const t=await gr(e);if(t){const r=await or({blob:t,name:i});if(r){const t=await cr(r);t&&(n={imageUrl:e,...t})}}}else n={imageUrl:e,imageType:a}}return n}function vr({port:e,checkMessage:t=null,timeout:r=12e4}={}){let n;const i=function(e){t(e)&&(n=!0)};return e.onMessage.addListener(i),new Promise(((a,s)=>{const o=function(){u(),a()},c=function(e){t(e)&&o()},u=function({throwError:t=!1}={}){window.clearTimeout(f),e.onDisconnect.removeListener(l),e.onMessage.removeListener(i),e.onMessage.removeListener(c),t&&s()},l=function(){u({throwError:!0})};e.onDisconnect.addListener(l);const f=window.setTimeout(l,r);n?o():e.onMessage.addListener(c)}))}function xr(){return"firefox"===Dt.W9?83886080:41943040}async function _r({tab:e,tabId:t=null}={}){return e||null===t||(e=await er.tabs.get(t).catch((e=>null))),await(0,xe._9)({tab:e})&&!(await(0,xe.Xf)()).isMobile?e.id:null}async function Ar({url:e="",setOpenerTab:t=!0,getTab:r=!1,activeTab:n=null}={}){n||(n=await(0,xe.fr)());const i={url:e,index:n.index+1,active:!0,getTab:r};return t&&(i.openerTabId=await _r({tab:n})),(0,xe.ZW)(i)}let Er,kr=0;async function Sr({action:e="auto",activeTab:t=null}={}){return await async function({valueChange:e=1,maxUseCount:t=1/0,minInterval:r=0}={}){if(Date.now()-kr>=r){kr=Date.now();const{useCount:r}=await we.ZP.get("useCount");r<t?await we.ZP.set({useCount:r+e}):r>t&&await we.ZP.set({useCount:t})}}({valueChange:1,maxUseCount:1e3}),async function({minUseCount:e=0,minInstallDays:t=0,minLastOpenDays:r=0,minLastAutoOpenDays:n=0,action:i="auto",activeTab:a=null}={}){if(Dt.pL){const s=await we.ZP.get(["showContribPage","useCount","installTime","contribPageLastOpen","contribPageLastAutoOpen"]),o=(0,xe.Og)();if(s.showContribPage&&s.useCount>=e&&o-s.installTime>=864e5*t&&o-s.contribPageLastOpen>=864e5*r&&o-s.contribPageLastAutoOpen>=864e5*n)return await we.ZP.set({contribPageLastOpen:o,contribPageLastAutoOpen:o}),async function({action:e="",updateStats:t=!0,getTab:r=!1,activeTab:n=null}={}){t&&await we.ZP.set({contribPageLastOpen:(0,xe.Og)()});let i=er.runtime.getURL("/src/contribute/index.html");return e&&(i=`${i}?action=${e}`),Ar({url:i,getTab:r,activeTab:n})}({action:i,updateStats:!1,activeTab:a,getTab:!0})}}({minUseCount:10,minInstallDays:14,minLastOpenDays:14,minLastAutoOpenDays:365,activeTab:t,action:e})}function Tr(e){return new Promise(((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)}))}function Ir(){return Er||(Er=function(e,t){const r=indexedDB.open("keyval-store");r.onupgradeneeded=()=>r.result.createObjectStore(t);const n=Tr(r);return(e,r)=>n.then((n=>r(n.transaction(t,e).objectStore(t))))}(0,"keyval")),Er}i(1431),i(68),i(8681),i(12),i(9639),i(9517),i(2029),i(3145);var Rr=i(3145);const jr=new D({concurrency:1}),Mr=new D({concurrency:1}),Or={};function Pr(e){return{metadataKey:`metadata_${e}`,dataKey:`data_${e}`}}async function Cr({storageId:e,metadata:t=!1,data:r=!1,area:n="local"}={}){const{metadataKey:i,dataKey:a}=Pr(e);return t&&({[i]:{value:t}={}}=await we.ZP.get(i)),r&&("local"===n?({[a]:{value:r}={}}=await we.ZP.get(a)):"indexeddb"===n?({value:r}=await function(e,t=Ir()){return t("readonly",(t=>Tr(t.get(e))))}(a)):"memory"===n&&({value:r}=Or[a])),{metadata:t,data:r}}async function Lr({storageId:e,metadata:t=null,data:r=null,area:n="local"}={}){const{metadataKey:i,dataKey:a}=Pr(e);null!==t&&await we.ZP.set({[i]:{value:t}}),null!==r&&("local"===n?await we.ZP.set({[a]:{value:r}}):"indexeddb"===n?await function(e,t,r=Ir()){return r("readwrite",(r=>(r.put(t,e),Tr(r.transaction))))}(a,{value:r}):"memory"===n&&(Or[a]={value:r}))}async function Ur({storageId:e,metadata:t=!1,data:r=!1,area:n="local"}={}){const{metadataKey:i,dataKey:a}=Pr(e);t&&await we.ZP.remove(i),r&&("local"===n?await we.ZP.remove(a):"indexeddb"===n?await function(e,t=Ir()){return t("readwrite",(t=>(t.delete(e),Tr(t.transaction))))}(a):"memory"===n&&delete Or[a])}async function Br(t,{token:r="",receipts:n=null,expiryTime:i=0,area:a="local",isTask:s=!1}={}){"indexeddb"!==a||["firefox","safari"].includes(Dt.W9)||(a="memory");const o=r||(0,e.Z)(),c=Date.now(),u={area:a,addTime:c,receipts:n,alarms:[],isTask:s};if(i){const e=`delete-storage-item_${o}`;Rr.alarms.create(e,{delayInMinutes:i}),u.alarms.push(e)}return await async function({storageId:e,addTime:t}={}){await Mr.add((async function(){const{storageRegistry:r}=await we.ZP.get("storageRegistry");r[e]={addTime:t},await we.ZP.set({storageRegistry:r})}))}({storageId:o,addTime:c}),await Lr({storageId:o,metadata:u,data:t,area:a}),o}async function Nr({storageId:e,registry:t=!0}={}){const{metadata:r}=await Cr({storageId:e,metadata:!0});if(r){await Ur({storageId:e,data:!0,area:r.area});for(const e of r.alarms)await Rr.alarms.clear(e);await Ur({storageId:e,metadata:!0}),t&&(r.isTask&&await async function({taskId:e}={}){await Mr.add((async function(){const{taskRegistry:t}=await we.ZP.get("taskRegistry"),r=t.tasks[e];if(r){const n=t.tabs[r.tabId];n&&n.taskId===e&&delete t.tabs[r.tabId]}delete t.tasks[e],await we.ZP.set({taskRegistry:t})}))}({taskId:e}),await async function({storageId:e}={}){await Mr.add((async function(){const{storageRegistry:t}=await we.ZP.get("storageRegistry");delete t[e],await we.ZP.set({storageRegistry:t})}))}({storageId:e}))}}async function Dr({storageId:e}={}){await jr.add((async function(){const{metadata:t}=await Cr({storageId:e,metadata:!0});t&&t.receipts&&(t.receipts.received+=1,t.receipts.received<t.receipts.expected?await Lr({storageId:e,metadata:t}):await Nr({storageId:e}))}))}const zr={addStorageItem:Br,getStorageItem:async function({storageId:e,saveReceipt:t=!1}={}){const{metadata:r}=await Cr({storageId:e,metadata:!0});if(r){const{data:n}=await Cr({storageId:e,data:!0,area:r.area});if(n)return t&&await Dr({storageId:e}),n}},deleteStorageItem:Nr,saveStorageItemReceipt:Dr,addTaskRegistryItem:async function({taskId:e,tabId:t}={}){await Mr.add((async function(){const{taskRegistry:r}=await we.ZP.get("taskRegistry"),n=Date.now();r.lastTaskStart=n,r.tabs[t]={taskId:e},r.tasks[e]={tabId:t,addTime:n},await we.ZP.set({taskRegistry:r})}))},getTaskRegistryItem:async function({taskId:e,tabId:t}={}){const{taskRegistry:r}=await we.ZP.get("taskRegistry");if(t){const e=r.tabs[t];if(e)return{taskId:e.taskId,...r.tasks[e.taskId]}}else if(e){const t=r.tasks[e];if(t)return{taskId:e,...t}}},cleanupRegistry:async function(){await Mr.add((async function(){const{lastStorageCleanup:e}=await we.ZP.get("lastStorageCleanup");if(Date.now()-e>864e5){const{taskRegistry:e}=await we.ZP.get("taskRegistry");for(const[t,r]of Object.entries(e.tasks))if(Date.now()-r.addTime>36e5){const n=e.tabs[r.tabId];n&&n.taskId===t&&delete e.tabs[r.tabId],delete e.tasks[t]}await we.ZP.set({taskRegistry:e});const{storageRegistry:t}=await we.ZP.get("storageRegistry");for(const[e,r]of Object.entries(t))Date.now()-r.addTime>36e5&&(await Nr({storageId:e,registry:!1}),delete t[e]);await we.ZP.set({storageRegistry:t,lastStorageCleanup:Date.now()})}}))},aquireLock:async function({name:t,expiryTime:r=1}={}){return t=await jr.add((async function(){t||(t=(0,e.Z)());const n=`lock_${t}`,{metadata:i}=await Cr({storageId:n,metadata:!0});if(!i)return await Br("",{token:n,expiryTime:r}),t}))}};var Fr=i(3145);const Wr=new D({concurrency:1});function qr(e,t){Fr.webRequest.onBeforeSendHeaders.addListener((function(e){for(const r of e.requestHeaders)if("user-agent"===r.name.toLowerCase()){r.value=t;break}return{requestHeaders:e.requestHeaders}}),{urls:["http://*/*","https://*/*"],tabId:e},["blocking","requestHeaders"])}function $r({id:e,title:t="",contexts:r,parent:n,type:i="normal",documentUrlPatterns:a,targetUrlPatterns:s,icons:o}){const c={id:e,title:t,contexts:r,parentId:n,type:i};a&&(c.documentUrlPatterns=a),s&&(c.targetUrlPatterns=s),o&&(c.icons=o),Fr.contextMenus.create(c,xe.nE)}async function Vr(){const e=await(0,xe.Xf)({fallback:!1}),t=await we.ZP.get(Ft),r=await async function(e){return e||({appTheme:e}=await we.ZP.get("appTheme")),"auto"===e&&(e=(0,xe.yt)().matches?"dark":"light"),e}(t.appTheme),n=["audio","editable","frame","image","link","selection","video"];e.isFirefox&&n.push("password"),e.isAndroid||n.push("page");const i=["http://*/*","https://*/*"];["safari","samsung"].includes(Dt.W9)||i.push("file:///*");const a=function(){try{const{protocol:e}=new URL(er.runtime.getURL("/src/background/index.html"));return`${e}//*/*`}catch(e){}return null}(),s=e.isFirefox&&t.showEngineIcons,o=!e.isSamsung&&t.searchAllEnginesContextMenu,c=t.viewImageContextMenu,u=t.shareImageContextMenu&&function(e){return!(!navigator.canShare||!e.isSafari&&(!e.isWindows&&!e.isAndroid||e.isFirefox))}(e),l=await tr(t);if(1===l.length){const e=l[0],t=(0,xe.Q)("mainMenuItemTitle_engine",(0,xe.Q)(`menuItemTitle_${e}`));$r({id:`search_${e}_1`,title:t,contexts:n,documentUrlPatterns:i}),a&&$r({id:`search_${e}_2`,title:t,contexts:["image"],documentUrlPatterns:[a]})}else if(l.length>1&&"main"===o){const e=(0,xe.Q)("mainMenuItemTitle_allEngines");$r({id:"search_allEngines_1",title:e,contexts:n,documentUrlPatterns:i}),a&&$r({id:"search_allEngines_2",title:e,contexts:["image"],documentUrlPatterns:[a]})}else if(l.length>1){let t=!1;if(c){const e=(0,xe.Q)("menuItemTitle_viewImage");$r({id:"view_1",title:e,contexts:n,documentUrlPatterns:i}),a&&$r({id:"view_2",title:e,contexts:["image"],documentUrlPatterns:[a]}),t=!0}if(u){const e=(0,xe.Q)("menuItemTitle_shareImage");$r({id:"share_1",title:e,contexts:n,documentUrlPatterns:i}),a&&$r({id:"share_2",title:e,contexts:["image"],documentUrlPatterns:[a]}),t=!0}if(t&&!e.isSamsung&&($r({id:"sep_1",contexts:n,type:"separator",documentUrlPatterns:i}),a&&$r({id:"sep_2",type:"separator",contexts:["image"],documentUrlPatterns:[a]})),"sub"===o){const t=(0,xe.Q)("menuItemTitle_allEngines"),o=s&&mr("allEngines",{variant:r});$r({id:"search_allEngines_1",title:t,contexts:n,documentUrlPatterns:i,icons:o}),a&&$r({id:"search_allEngines_2",title:t,contexts:["image"],documentUrlPatterns:[a],icons:o}),e.isSamsung||($r({id:"sep_3",contexts:n,type:"separator",documentUrlPatterns:i}),a&&$r({id:"sep_4",type:"separator",contexts:["image"],documentUrlPatterns:[a]}))}l.forEach((function(e){const t=(0,xe.Q)(`menuItemTitle_${e}`),o=s&&mr(e,{variant:r});$r({id:`search_${e}_1`,title:t,contexts:n,documentUrlPatterns:i,icons:o}),a&&$r({id:`search_${e}_2`,title:t,contexts:["image"],documentUrlPatterns:[a],icons:o})}))}}async function Hr(t,r){const n=t.session.sourceTabId;if(!await pr({tabId:n,module:"base"}))return void await ar({messageId:"error_scriptsNotAllowed"});const[i]=await(0,xe.Qr)("typeof initContent !== 'undefined'",n);i||await(0,xe.F$)("/src/content/script.js",n),await async function({target:t="runtime",tabId:r,frameId:n,messagePort:i,message:a,transferResponse:s=!1,openConnection:o=!1}={}){let c;if(!s)try{if("runtime"===t)return await er.runtime.sendMessage(a);if("tab"===t)return await er.tabs.sendMessage(r,a,{frameId:n});if("port"===t)return i.postMessage(a)}catch(e){c=e}const u=(0,e.Z)(),l=xr(),f=JSON.stringify(a),d=Boolean(c)||f.length>l,g=!Boolean(i);if(o){const e=vr({port:i=er.runtime.connect({name:`message_${u}`}),checkMessage:function(e){if(e.transfer?.id===u&&"connection"===e.transfer.type&&e.transfer.complete)return!0}});await e}return new Promise((async(e,c)=>{let p=[];const h=function(e){if(e.transfer?.id===u)if("chunkedMessage"===e.transfer?.type){for(const e of(0,xe.GK)(f,l))i.postMessage({transfer:{type:"chunkedMessage",data:e,id:u}});i.postMessage({transfer:{type:"chunkedMessage",complete:!0,id:u}})}else"chunkedResponse"===e.transfer?.type?e.transfer.complete?p=JSON.parse(p.join("")):p.push(e.transfer.data):"response"===e.transfer?.type&&(p=e.transfer.data)};let m;i?i.onMessage.addListener(h):(m=function(e){e.name===u&&((i=e).onMessage.addListener(h),i.postMessage({transfer:{type:"connection",complete:!0,id:u}}))},er.runtime.onConnect.addListener(m));const y=function(e){if(m&&er.runtime.onConnect.removeListener(m),i&&(i.onMessage.removeListener(h),g))try{i.disconnect()}catch(e){}e&&c(e)};let b=null;try{const e={transferId:u,transferMessage:d,transferResponse:s,openConnection:!o},c=d?{transfer:e}:{...a,transfer:e};if("runtime"===t)b=await er.runtime.sendMessage(c);else if("tab"===t)b=await er.tabs.sendMessage(r,c,{frameId:n});else if("port"===t){const e=vr({port:i,checkMessage:function(e){if(e.transfer?.id===u&&"message"===e.transfer.type&&e.transfer.complete)return!0}});i.postMessage(c),await e}}catch(e){y(e)}y(),e(s?p:b)}))}({target:"tab",tabId:n,frameId:0,message:{id:"openView",...t,view:r}})}async function Zr(e){return Fr.tabs.executeScript(e,{allFrames:!0,runAt:"document_start",code:"\n      if (typeof addTouchListener !== 'undefined') {\n        addTouchListener();\n        showPointer();\n      }\n    "})}async function Gr(e){return Fr.tabs.executeScript(e,{allFrames:!0,runAt:"document_start",code:"\n      if (typeof removeTouchListener !== 'undefined') {\n        removeTouchListener();\n        hidePointer();\n      }\n    "})}async function Kr(e,t){["chrome","opera"].includes(Dt.W9)&&async function(){if(/ opr\//i.test(navigator.userAgent)){const{lastEngineAccessCheck:e}=await we.ZP.get("lastEngineAccessCheck");if(Date.now()-e>6048e5){await we.ZP.set({lastEngineAccessCheck:Date.now()});const e="https://www.google.com/generate_204";await new Promise((t=>{let r=!1;function n(){return r=!0,i(),{cancel:!0}}const i=function(){window.clearTimeout(a),er.webRequest.onBeforeRequest.removeListener(n),t(r)},a=window.setTimeout(i,3e3);er.webRequest.onBeforeRequest.addListener(n,{urls:[e],types:["xmlhttprequest"]},["blocking"]),fetch(e).catch((e=>null))}))||await ar({messageId:"error_noSearchEngineAccess"})}}}(),Array.isArray(t)||(t=[t]);const r=await Fr.tabs.get(e.sourceTabId);e.sourceTabIndex=r.index;let n=!0;for(const r of t)await Yr(e,r,n),n=!1}async function Yr(e,t,r=!0){let n,i=r;if(r){const t=await Sr();t&&(n=t.id,e.sourceTabIndex=t.index,i=!1)}i=!e.options.tabInBackgound&&i;const a=await async function(e,t,r){const n=[];for(const i of t)(e.hasOwnProperty("imageDataUrl")||e.hasOwnProperty("imageUrl")&&await nr(i,{bypassBlocking:"url"!==r}))&&n.push(i);return n}(t,e.engines,e.searchMode);e.engines.filter((e=>!a.includes(e))).length&&await ar({messageId:"error_invalidSearchMethod",type:"unsupportedError"});const s=await async function(e,t,r){const n=[];for(const i of t){const t=!yr(e.imageType,i),a=await rr(e,i,r,t)?"image":"url",s=qt[i][a].isExec,o=qt[i][a].isTaskId;n.push({engine:i,assetType:a,isExec:s,isTaskId:o,isAltImage:t,sendsReceipt:s||o})}return n}(t,a,e.searchMode),o=s.filter((e=>e.isAltImage));let c,u;o.length&&(c=await async function(e,{newType:t="",maxSize:r=1/0,maxDimension:n=1/0,getFile:i=!1,setBlob:a=!1,throwError:s=!1}={}){try{const s=await async function({blob:e,dataUrl:t,currentType:r="",currentSize:n=0,newType:i="",maxSize:a=1/0,maxDimension:s=1/0,getBlob:o=!1}={}){a!==1/0&&(n||(e||(e=(0,xe.kD)(t)),n=e.size),s===1/0&&(s=function({maxSize:e=1/0}={}){return e&&e!==1/0?e>=8388608?1680:e>=4194304?1280:880:1/0}({maxSize:a}))),r||(r=e?.type||(0,xe.k7)(t)),i||(i=r);const c=await lr({url:t,blob:e});let u=c.naturalWidth,l=c.naturalHeight;for(;r!==i||n>a||u>s||l>s;){const{width:t,height:r}=ur(u,l,{maxDimension:s}),f=document.createElement("canvas"),d=f.getContext("2d");if(f.width=t,f.height=r,"image/jpeg"===i&&(d.fillStyle="#FFFFFF",d.fillRect(0,0,t,r)),d.drawImage(c,0,0,u,l,0,0,t,r),(o||a<1/0)&&(e=await(0,xe._c)(f,{ctx:d,type:i,clear:!1})),!(a!==1/0&&(n=e.size)>a&&s>480))return o?e:(0,xe.iP)(f,{ctx:d,type:i});s-=200}return o&&!e&&(e=(0,xe.kD)(t)),o?e:t}({dataUrl:e.imageDataUrl,currentType:e.imageType,currentSize:e.imageSize,newType:t,maxSize:r,maxDimension:n,getBlob:!0});if(s){const t=sr(s,{name:e.imageFilename});if(i)return t;const r=await cr(t);return a&&(r.imageBlob=s),r}}catch(e){if(console.log(e.toString()),s)throw e}}(t,{newType:"image/png"}),c&&(u=await zr.addStorageItem(c,{receipts:{expected:o.length,received:0},expiryTime:10,area:"indexeddb"})));const l=s.filter((e=>e.sendsReceipt&&(!u||!e.isAltImage)));let f;l.length&&(f=await zr.addStorageItem(t,{receipts:{expected:l.length,received:0},expiryTime:10,area:"indexeddb"}));let d=r;for(const r of s){let n,a;e.sourceTabIndex+=1,r.isAltImage&&u?(n=c,a=u):(n=t,a=f),await Xr(e,r,n,a,i),d&&e.closeSourceTab&&(await Fr.tabs.remove(e.sourceTabId),e.sourceTabId=-1,e.sourceTabIndex-=1),i=!1,d=!1}await(0,xe.Dt)()&&n&&await Fr.tabs.update(n,{active:!0})}async function Xr(t,r,n,i,a){let s;r.sendsReceipt&&(s=await zr.addStorageItem({session:t,search:r,imageId:i},{receipts:{expected:1,received:0},expiryTime:10,isTask:!0}));const o=(0,e.Z)(),c="samsung"===Dt.W9?(0,e.Z)():"",u=await async function(e,t,r,n){const i=t.engine;let a=qt[i][t.assetType].target;if(t.isTaskId&&(a=a.replace("{id}",n)),!t.isExec&&!t.isTaskId){let t=r.imageUrl;"ascii2d"!==i&&(t=encodeURIComponent(t)),a=a.replace("{imgUrl}",t),"google"!==i||e.options.localGoogle||(a=`${a}&gws_rd=cr&gl=US`)}return a}(t,r,n,s),l=[],f=await async function(e){if(await(0,xe.tq)()){if("firefox"===Dt.W9&&["google","ikea"].includes(e))return Qt;if(["googleLens"].includes(e))return Xt}}(r.engine);f&&l.push({id:"setUserAgent",tabUrl:u,userAgent:f,beaconToken:c}),r.sendsReceipt&&l.push({id:"addTask",taskId:s});const d={tabUrl:c?(0,xe.Yw)(c):u,keepHistory:!1};l.length&&(d.setupSteps=l),await zr.addStorageItem(d,{receipts:{expected:1,received:0},expiryTime:1,token:o}),c&&await zr.addStorageItem({tabUrl:u,keepHistory:!1},{receipts:{expected:1,received:0},expiryTime:1,token:c}),await(0,xe.ZW)({token:o,index:t.sourceTabIndex,active:a})}async function Qr({tabId:e,tabUrl:t,userAgent:r,beaconToken:n}={}){if("samsung"===Dt.W9){function i(e){a(),qr(e.tabId,r)}const a=function(){window.clearTimeout(s),Fr.webRequest.onBeforeRequest.removeListener(i)},s=window.setTimeout(a,1e4);Fr.webRequest.onBeforeRequest.addListener(i,{urls:[(0,xe.Yw)(n)],types:["main_frame"]},["blocking"])}else"safari"===Dt.W9?Fr.declarativeNetRequest?.updateSessionRules?(await Fr.declarativeNetRequest.updateSessionRules({addRules:[{id:e,action:{type:"modifyHeaders",requestHeaders:[{header:"User-Agent",operation:"set",value:r}]},condition:{urlFilter:`${t}*`,resourceTypes:["main_frame","sub_frame"]}}]}),Fr.alarms.create(`delete-net-request-session-rule_${e}`,{delayInMinutes:1})):await ar({messageId:"error_engineSafariOutdated"}):qr(e,r)}async function Jr(e){const[t]=await(0,xe.Qr)("typeof initParse !== 'undefined'",e.sourceTabId,e.sourceFrameId);t||await(0,xe.F$)("/src/parse/script.js",e.sourceTabId,e.sourceFrameId),await Fr.tabs.sendMessage(e.sourceTabId,{id:"parsePage",session:e},{frameId:e.sourceFrameId})}async function en(e,t){if("browse"===e.searchMode){const t=Fr.runtime.getURL("/src/browse/index.html"),r=await zr.addStorageItem(e,{receipts:{expected:1,received:0},expiryTime:1});await(0,xe.ZW)({url:`${t}?id=${r}`,index:e.sourceTabIndex+1,openerTabId:await _r({tabId:e.sourceTabId})})}else if("capture"===e.searchMode)await Hr({session:e},"capture");else if(["selectUrl","selectImage"].includes(e.searchMode)){if(t.startsWith("file://")&&["safari","samsung"].includes(Dt.W9))return void await ar({messageId:"error_invalidImageUrl_fileUrl"});await Hr({session:e},"select"),await pr({tabId:e.sourceTabId,module:"base"})&&await Zr(e.sourceTabId)}}async function tn(e,t){let r;if(t.hasOwnProperty("imageDataUrl")){const e=await zr.addStorageItem(t,{receipts:{expected:1,received:0},expiryTime:1,area:"memory"});r=`${Fr.runtime.getURL("/src/view/index.html")}?id=${e}`}else r=t.imageUrl;await Fr.tabs.create({url:r,index:e.sourceTabIndex+1})}async function rn(){await Fr.contextMenus.removeAll();const{showInContextMenu:e}=await we.ZP.get("showInContextMenu");e&&(["chrome","edge","opera"].includes(Dt.W9)?await we.ZP.set({setContextMenuEvent:Date.now()}):await Vr())}async function nn(){const e=await we.ZP.get(["engines","disabledEngines","searchAllEnginesAction"]),t=await tr(e);return 1===t.length?(Fr.browserAction.setTitle({title:(0,xe.Q)("actionTitle_engine",(0,xe.Q)(`menuItemTitle_${t[0]}`))}),void Fr.browserAction.setPopup({popup:""})):"main"===e.searchAllEnginesAction&&t.length>1?(Fr.browserAction.setTitle({title:(0,xe.Q)("actionTitle_allEngines")}),void Fr.browserAction.setPopup({popup:""})):(Fr.browserAction.setTitle({title:(0,xe.Q)("extensionName")}),void(t.length?Fr.browserAction.setPopup({popup:"/src/action/index.html"}):Fr.browserAction.setPopup({popup:""})))}async function an(e){return zr.getStorageItem({storageId:e,saveReceipt:!0})}async function sn(e,t){if("cancelView"===e.id)"select"===e.view&&Gr(t.tab.id),Fr.tabs.sendMessage(t.tab.id,{id:"closeView",view:e.view},{frameId:0});else if("discardView"===e.id)"select"===e.view&&Gr(t.tab.id);else if("actionPopupSubmit"===e.id)!async function(e,t,r){const{searchModeAction:n}=await we.ZP.get("searchModeAction"),i=await(0,xe.fr)(),a=await ir({sessionOrigin:"action",sessionType:"search",searchMode:n,sourceTabId:i.id,sourceTabIndex:i.index,engine:e});"browse"===n&&t?await Kr(a,t):"url"===n&&r?await Kr(a,{imageUrl:r}):en(a,i.url)}(e.engine,e.images,e.imageUrl);else if("imageBrowseSubmit"===e.id){const r=e.session;r.sourceTabId=t.tab.id,r.sourceTabIndex=t.tab.index,Kr(r,e.images)}else if("imageSelectionSubmit"===e.id)Gr(t.tab.id),Jr(e.session);else if("imageConfirmationSubmit"===e.id)Fr.tabs.sendMessage(t.tab.id,{id:"closeView",view:"confirm"},{frameId:0}),"search"===e.session.sessionType?await Kr(e.session,e.image):"view"===e.session.sessionType&&await tn(e.session,e.image);else if("imageCaptureSubmit"===e.id){const r=t.tab.id;Fr.tabs.sendMessage(r,{id:"closeView",view:"capture"},{frameId:0});const n=await async function(e,t){const[r]=await(0,xe.Qr)("window.innerWidth;",t);e={...e,surfaceWidth:r};return cr(sr(await async function(e){const t=await er.tabs.captureVisibleTab({format:"png"}),r=await lr({url:t}),{left:n,top:i,width:a,height:s,surfaceWidth:o}=e,c=r.naturalWidth/o,u=document.createElement("canvas"),l=u.getContext("2d");return u.width=a*c,u.height=s*c,l.drawImage(r,n*c,i*c,u.width,u.height,0,0,u.width,u.height),(0,xe._c)(u,{ctx:l})}(e)))}(e.area,r);Kr(e.session,n)}else if("pageParseSubmit"===e.id)"action"===e.session.sessionOrigin&&e.images.length<=1&&!e.images[0]?.mustConfirm&&Fr.tabs.sendMessage(t.tab.id,{id:"closeView",view:"select"},{frameId:0}),async function(e,t){t.length?t.length>1||t[0].mustConfirm?await Hr({session:e,images:t},"confirm"):"search"===e.sessionType?await Kr(e,t):"view"===e.sessionType&&await tn(e,t[0]):await ar({messageId:"error_imageNotFound"})}(e.session,e.images);else if("initShare"===e.id)!async function(){const e=await(0,xe.fr)(),t=await ir({sessionOrigin:"action",sessionType:"share",sourceTabId:e.id,sourceTabIndex:e.index});await Hr({session:t},"select"),await pr({tabId:t.sourceTabId,module:"base"})&&await Zr(t.sourceTabId)}();else if("initView"===e.id)!async function(){const e=await(0,xe.fr)(),t=await ir({sessionOrigin:"action",sessionType:"view",sourceTabId:e.id,sourceTabIndex:e.index});await Hr({session:t},"select"),await pr({tabId:t.sourceTabId,module:"base"})&&await Zr(t.sourceTabId)}();else if("pageParseError"===e.id)"action"===e.session.sessionOrigin&&Fr.tabs.sendMessage(t.tab.id,{id:"closeView",view:"select"},{frameId:0}),ar({messageId:"error_pageParseError"});else if("setContentRequestHeaders"===e.id)!function(e,t,{referrer:r=""}={}){let n,i;const a=function(a){const s=a.requestHeaders.find((r=>"accept"===r.name.toLowerCase()&&r.value===e&&a.url===t&&"GET"===a.method));if(s&&(s.value="*/*"),s||a.requestId===n){if(n=a.requestId,r){const e=a.requestHeaders.find((e=>"referer"===e.name.toLowerCase()));e?e.value=r:a.requestHeaders.push({name:"Referer",value:r})}const e=a.requestHeaders.find((e=>"origin"===e.name.toLowerCase()));return e&&(i=e.value),{requestHeaders:a.requestHeaders}}},s=["blocking","requestHeaders"];"firefox"!==Dt.W9&&s.push("extraHeaders"),Fr.webRequest.onBeforeSendHeaders.addListener(a,{urls:["<all_urls>"],types:["xmlhttprequest"]},s);const o=function(e){if(e.requestId===n&&i){const t=e.responseHeaders.find((e=>"access-control-allow-origin"===e.name.toLowerCase()));t?t.value=i:e.responseHeaders.push({name:"Access-Control-Allow-Origin",value:i});const r=e.responseHeaders.find((e=>"access-control-allow-credentials"===e.name.toLowerCase()));return r?r.value="true":e.responseHeaders.push({name:"Access-Control-Allow-Credentials",value:"true"}),{responseHeaders:e.responseHeaders}}},c=["blocking","responseHeaders"];"firefox"!==Dt.W9&&c.push("extraHeaders"),Fr.webRequest.onHeadersReceived.addListener(o,{urls:["<all_urls>"],types:["xmlhttprequest"]},c);const u=function(e){e.requestId===n&&l()},l=function(){window.clearTimeout(f),Fr.webRequest.onBeforeSendHeaders.removeListener(a),Fr.webRequest.onHeadersReceived.removeListener(o),Fr.webRequest.onCompleted.removeListener(u),Fr.webRequest.onErrorOccurred.removeListener(u)},f=window.setTimeout(l,12e4);Fr.webRequest.onCompleted.addListener(u,{urls:["<all_urls>"],types:["xmlhttprequest"]}),Fr.webRequest.onErrorOccurred.addListener(u,{urls:["<all_urls>"],types:["xmlhttprequest"]})}(e.token,e.url,{referrer:e.referrer});else{if("fetchImage"===e.id){const t=await gr(e.url),r=t&&await(0,xe.fL)(t);return Promise.resolve(r)}if("notification"===e.id)ar({message:e.message,messageId:e.messageId,title:e.title,type:e.type});else if("routeMessage"===e.id){const r=e.message;e.setSenderTabId&&(r.senderTabId=t.tab.id),e.setSenderFrameId&&(r.senderFrameId=t.frameId);const n=[e.messageTabId?e.messageTabId:t.tab.id,r];e.hasOwnProperty("messageFrameId")&&n.push({frameId:e.messageFrameId}),Fr.tabs.sendMessage(...n)}else{if("sendNativeMessage"===e.id){const t=await Fr.runtime.sendNativeMessage("application.id",e.message);return Promise.resolve({response:t})}if("getPlatform"===e.id)return(0,xe.Xf)();if("storageRequest"===e.id){const r=await zr.getStorageItem({storageId:e.storageId,saveReceipt:e.saveReceipt});if(r){if(e.asyncResponse)return Promise.resolve(r);Fr.tabs.sendMessage(t.tab.id,{id:"storageResponse",storageItem:r},{frameId:t.frameId})}}else if("storageReceipt"===e.id)for(const t of e.storageIds)await zr.saveStorageItemReceipt({storageId:t});else if("taskRequest"===e.id){const e=await zr.getTaskRegistryItem({tabId:t.tab.id});if(e&&Date.now()-e.addTime<6e5){const r=await zr.getStorageItem({storageId:e.taskId});r&&r.search.isExec&&async function(e,t,r){["bing"].includes(t)&&await Fr.tabs.insertCSS(e,{runAt:"document_start",file:`/src/engines/css/${t}.css`}),await(0,xe.Qr)(`var taskId = '${r}';`,e),await(0,xe.F$)("/src/commons-engine/script.js",e),await(0,xe.F$)(`/src/engines/${t}/script.js`,e)}(t.tab.id,r.search.engine,e.taskId)}}else if("optionChange"===e.id)await async function(){await on()}();else if("searchImage"===e.id){const{session:t,search:r,image:n}=e;"image"===r.assetType&&(n.imageBlob=(0,xe.kD)(n.imageDataUrl));try{let e;return"google"===r.engine?e=await async function({session:e,search:t,image:r}={}){const n=new FormData;n.append("encoded_image",r.imageBlob,r.imageFilename),n.append("image_url",""),n.append("sbisrc",Jt);const i=await fetch("https://www.google.com/searchbyimage/upload",{referrer:"",mode:"cors",method:"POST",body:n});let a;if(200===i.status)a=i.url;else{if(!r.imageUrl)throw new Error(`API response: ${i.status}, ${await i.text()}`);a="https:www.google.com/searchbyimage?sbisrc=cr_1_5_2&image_url="+encodeURIComponent(r.imageUrl)}return e.options.localGoogle||(a=a.replace(/(.*google\.)[a-zA-Z0-9_\-.]+(\/.*)/,"$1com$2&gws_rd=cr&gl=US")),a}({session:t,search:r,image:n}):"pinterest"===r.engine&&(e=await async function({session:e,search:t,image:r}={}){const n=new FormData;n.append("image",r.imageBlob,r.imageFilename),n.append("x","0"),n.append("y","0"),n.append("w","1"),n.append("h","1"),n.append("base_scheme","https");const i=await fetch("https://api.pinterest.com/v3/visual_search/extension/image/",{referrer:"",mode:"cors",method:"PUT",body:n}),a=await i.json();if(200!==i.status||"success"!==a.status||!a.data||!a.data.length)throw new Error("search failed");return a.data.map((e=>({page:`https://pinterest.com/pin/${e.id}/`,image:e.image_large_url,text:e.description})))}({session:t,search:r,image:n})),Promise.resolve({data:e})}catch(e){return Promise.resolve({error:e.toString()})}}else if("showPage"===e.id)await Ar({url:e.url});else if("setupTab"===e.id)return async function(e,t){const r={};for(const n of t)"setUserAgent"===n.id?(await Qr({tabId:e.tab.id,tabUrl:n.tabUrl,userAgent:n.userAgent,beaconToken:n.beaconToken}),r[n.id]=""):"addTask"===n.id&&(await zr.addTaskRegistryItem({taskId:n.taskId,tabId:e.tab.id}),r[n.id]="");return r}(t,e.steps)}}}async function on(){const e=[nn];await async function(){if(await(0,xe.Dt)()){if("samsung"===Dt.W9)return!0}else if(er.contextMenus)return!0;return!1}()&&e.push(rn),await Wr.addAll(e)}Fr.contextMenus&&Fr.contextMenus.onClicked.addListener((async function(e,t){"samsung"===Dt.W9&&await(0,xe._9)({tab:t})&&(t=await Fr.tabs.get(t.id));const[r,n]=e.menuItemId.split("_"),i={sessionOrigin:"context",sessionType:r,sourceTabId:t.id,sourceTabIndex:t.index,sourceFrameId:void 0!==e.frameId?e.frameId:0};"search"===r&&(i.engine=n);const a=await ir(i);if("view"===r)if(await pr({tabId:a.sourceTabId,frameId:a.sourceFrameId,module:"base"}))await Jr(a);else{let t;const r=br(e);r&&(t=await wr(r,{session:a})),t?await tn(a,t):await ar({messageId:"error_scriptsNotAllowed"})}else if("share"===r)await pr({tabId:a.sourceTabId,frameId:a.sourceFrameId,module:"base"})?await Jr(a):await ar({messageId:"error_scriptsNotAllowed"});else if("search"===r)if("capture"===a.searchMode)await pr({tabId:a.sourceTabId,frameId:a.sourceFrameId,module:"base"})?await Hr({session:a},"capture"):await ar({messageId:"error_scriptsNotAllowed"});else if(await pr({tabId:a.sourceTabId,frameId:a.sourceFrameId,module:"base"}))await Jr(a);else{let t;const r=br(e);r&&(t=await wr(r,{session:a})),t?await Kr(a,t):await ar({messageId:"error_scriptsNotAllowed"})}})),Fr.browserAction.onClicked.addListener((async function(e){"samsung"===Dt.W9&&await(0,xe._9)({tab:e})&&(e=await Fr.tabs.get(e.id));const t=await ir({sessionOrigin:"action",sessionType:"search",sourceTabId:e.id,sourceTabIndex:e.index});if("url"===t.searchMode)return void await ar({messageId:await(0,xe.tq)()?"error_invalidSearchModeMobile_url":"error_invalidSearchMode_url"});const r=await tr(t.options);r.length?("main"===t.options.searchAllEnginesAction&&r.length>1?(t.engineGroup="allEngines",t.engines=r):t.engines.push(r[0]),en(t,e.url)):await ar({messageId:"error_allEnginesDisabled"})})),Fr.runtime.onMessage.addListener((function(e,t,r){return function(e,t){return"safari"===Dt.W9?(e.then((function(e){void 0===e&&(e=null),t(e)})),!0):e}(async function({request:e,sender:t,requestHandler:r,messagePortProvider:n}={}){if(e.transfer?.type)return;if(t.url===document.URL)return;"samsung"===Dt.W9&&(/^internet-extension:\/\/.*\/src\/action\/index.html/.test(t.tab?.url)&&(t.tab=null),await(0,xe._9)({tab:t.tab})&&(t.tab=await er.tabs.get(t.tab.id)));const i=e.transfer;if(!i)return r(e,t);{const a=i.transferId,s="function"==typeof t.disconnect;let o;if(s)o=t;else if(i.openConnection){o=t.tab?er.tabs.connect(t.tab.id,{name:a,frameId:t.frameId}):er.runtime.connect({name:a});const e=vr({port:o,checkMessage:function(e){if(e.transfer?.id===a&&"connection"===e.transfer.type&&e.transfer.complete)return!0}});await e}else o=await n(a);i.transferMessage&&(e=await new Promise(((e,t)=>{const r=[],n=function(t){t.transfer?.id===a&&"chunkedMessage"===t.transfer?.type&&(t.transfer.complete?(i(),e(JSON.parse(r.join("")))):r.push(t.transfer.data))},i=function({throwError:e=!1}={}){window.clearTimeout(c),o.onDisconnect.removeListener(s),o.onMessage.removeListener(n),e&&t()},s=function(){i({throwError:!0})};o.onDisconnect.addListener(s);const c=window.setTimeout(s,12e4);o.onMessage.addListener(n),o.postMessage({transfer:{type:"chunkedMessage",id:a}})})),s&&o.postMessage({transfer:{type:"message",complete:!0,id:a}}));let c=await r(e,t);if(!s){if(!i.transferResponse)return c;void 0===c&&(c=null);try{o.postMessage({transfer:{type:"response",data:c,id:a}})}catch(e){const t=xr(),r=JSON.stringify(c);for(const e of(0,xe.GK)(r,t))o.postMessage({transfer:{type:"chunkedResponse",data:e,id:a}});o.postMessage({transfer:{type:"chunkedResponse",complete:!0,id:a}})}}}}({request:e,sender:t,requestHandler:sn,messagePortProvider:an}),r)})),Fr.runtime.onConnect.addListener((function(e){!async function(e){if(e.name?.startsWith("message")){const t=e.name.split("_")[1];await async function(e,t){await zr.addStorageItem(t,{receipts:{expected:1,received:0},expiryTime:1,area:"memory",token:e})}(t,e),e.postMessage({transfer:{type:"connection",complete:!0,id:t}})}}(e)})),Fr.storage.onChanged.addListener((async function(e,t){"local"===t&&await(0,we.m9)()&&e.setContextMenuEvent&&await Wr.add(Vr)})),Fr.alarms.onAlarm.addListener((async function({name:e}){if(e.startsWith("delete-storage-item")){const t=e.split("_")[1];await zr.deleteStorageItem({storageId:t})}else if(e.startsWith("delete-net-request-session-rule")){const t=(0,xe.Tc)(e.split("_")[1]);await Fr.declarativeNetRequest.updateSessionRules({removeRuleIds:[t]})}})),Fr.runtime.onInstalled.addListener((async function(e){["install","update"].includes(e.reason)&&["chrome","edge","opera","samsung"].includes(Dt.W9)&&await hr()})),Fr.runtime.onStartup.addListener((async function(){["samsung"].includes(Dt.W9)&&await hr({activeTab:!0})})),async function(){await(0,we.m9)()||(await async function(){if(await(0,we.$r)({area:"sync"})){const{storageVersion:e}=await ve.storage.sync.get("storageVersion");if(e&&e.length<14){const{storageVersion:e}=await ve.storage.local.get("storageVersion");if(!e||e.length<14){const e=await ve.storage.sync.get(null);await ve.storage.local.clear(),await ve.storage.local.set(e),await ve.storage.sync.clear()}}}}(),await async function({area:e="local"}={}){return async function(e,{area:t="local"}={}){return async function(e,{area:t="local"}={}){const r=await e.getAvailableRevisions({area:t}),n=await e.getCurrentRevision({area:t}),i=z(r);if(n===i)return;const a=pe(r,be(r,n)+1,be(r,i)+1);console.log(`Migrating storage (${t}): ${n} => ${i}`);for(const r of a){const n=await e.getRevision({area:t,revision:r});console.log(`Applying revision (${t}): ${n.revision} - ${n.message}`),await n.upgrade()}}(e,{area:t})}({getAvailableRevisions:async({area:e}={})=>(await Promise.resolve().then(i.t.bind(i,5054,19))).revisions[e],getCurrentRevision:async({area:e}={})=>(await ve.storage[e].get("storageVersion")).storageVersion,getRevision:async({area:e,revision:t}={})=>i(36)(`./${e}/${t}.js`)},{area:e})}()),await on(),await zr.cleanupRegistry()}()})()})();